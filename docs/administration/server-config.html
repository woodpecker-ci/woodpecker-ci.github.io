<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-administration/server-config">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Woodpecker CI" href="/opensearch.xml">
<link rel="icon" href="/img/favicon.ico" sizes="any">
<link rel="icon" href="/img/favicon.svg" type="image/svg+xml"><title data-rh="true">Server configuration | Woodpecker CI</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://woodpecker-ci.org/docs/administration/server-config"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Server configuration | Woodpecker CI"><meta data-rh="true" name="description" content="User registration"><meta data-rh="true" property="og:description" content="User registration"><link data-rh="true" rel="canonical" href="https://woodpecker-ci.org/docs/administration/server-config"><link data-rh="true" rel="alternate" href="https://woodpecker-ci.org/docs/administration/server-config" hreflang="en"><link data-rh="true" rel="alternate" href="https://woodpecker-ci.org/docs/administration/server-config" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.ce72f536.css">
<link rel="preload" href="/assets/js/runtime~main.8a683e7c.js" as="script">
<link rel="preload" href="/assets/js/main.03a60bfc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:var(--ifm-color-primary);color:var(--ifm-color-gray-900)" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm"> If you like Woodpecker-CI, <a href="https://github.com/woodpecker-ci/woodpecker" rel="noopener noreferrer" target="_blank">give us a star on GitHub</a> ! ‚≠êÔ∏è</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Woodpecker Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo-darkmode.svg" alt="Woodpecker Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Woodpecker</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/plugins">Plugins</a><a class="navbar__item navbar__link" href="/docs/migrations">Migrations</a><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/awesome">Awesome</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/woodpecker-ci/woodpecker" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://opencollective.com/woodpecker-ci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">üß° Sponsor Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Welcome to Woodpecker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/usage/intro">Usage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/intro">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/pipeline-syntax">Pipeline syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/multi-pipeline">Multi pipelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/matrix-builds">Matrix builds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/secrets">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/registries">Registries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/environment">Environment variables</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/usage/plugins/plugins">Plugins</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/volumes">Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/project-settings">Project settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usage/badges">Status Badges</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/administration/setup">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/administration/server-config">Server configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/administration/forges/overview">Forges</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/agent-config">Agent configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/administration/backends/docker">Backends</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/database">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/ssl">SSL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/proxy">Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/prometheus">Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/administration/external-configuration-api">External Configuration API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/downloads">Downloads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/migrations">Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/awesome">Awesome Woodpecker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/development/getting-started">Development</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Administration</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Server configuration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Server configuration</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="user-registration">User registration<a class="hash-link" href="#user-registration" title="Direct link to heading">‚Äã</a></h2><p>Registration is closed by default. While disabled an administrator needs to add new users manually (exp. <code>woodpecker-cli user add</code>).</p><p>If registration is open every user with an account at the configured <a href="/docs/administration/forges/overview">forges</a> can login to Woodpecker.
This example enables open registration for users that are members of approved organizations:</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-server:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_OPEN=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_ORGS=dolores,dogpatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="display:inline-block;color:#36acaa"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="administrators">Administrators<a class="hash-link" href="#administrators" title="Direct link to heading">‚Äã</a></h2><p>Administrators should also be enumerated in your configuration.</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-server:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_ADMIN=johnsmith,janedoe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="filtering-repositories">Filtering repositories<a class="hash-link" href="#filtering-repositories" title="Direct link to heading">‚Äã</a></h2><p>Woodpecker operates with the user&#x27;s OAuth permission. Due to the coarse permission handling of GitHub, you may end up syncing more repos into Woodpecker than preferred.</p><p>Use the <code>WOODPECKER_REPO_OWNERS</code> variable to filter which GitHub user&#x27;s repos should be synced only. You typically want to put here your company&#x27;s GitHub name.</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-server:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_REPO_OWNERS=mycompany,mycompanyossgithubuser</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="global-registry-setting">Global registry setting<a class="hash-link" href="#global-registry-setting" title="Direct link to heading">‚Äã</a></h2><p>If you want to make available a specific private registry to all pipelines, use the <code>WOODPECKER_DOCKER_CONFIG</code> server configuration.
Point it to your server&#x27;s docker config.</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-server:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_DOCKER_CONFIG=/home/user/.docker/config.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="handling-sensitive-data-in-docker-compose-and-docker-swarm">Handling sensitive data in docker-compose and docker-swarm<a class="hash-link" href="#handling-sensitive-data-in-docker-compose-and-docker-swarm" title="Direct link to heading">‚Äã</a></h2><p>To handle sensitive data in docker-compose or docker-swarm configurations there are several options:</p><p>For docker-compose you can use a .env file next to your compose configuration to store the secrets outside of the compose file. While this separates configuration from secrets it is still not very secure.</p><p>Alternatively use docker-secrets. As it may be difficult to use docker secrets for environment variables woodpecker allows to read sensible data from files by providing a <code>*_FILE</code> option of all sensible configuration variables. Woodpecker will try to read the value directly from this file. Keep in mind that when the original environment variable gets specified at the same time it will override the value read from the file.</p><div class="codeBlockContainer_I0IT language-diff theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-server:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_AGENT_SECRET_FILE=/run/secrets/woodpecker-agent-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   secrets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - woodpecker-agent-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"></span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">secrets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  woodpecker-agent-secret:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    external: true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Store a value to a docker secret like this:
<code>echo &quot;my_agent_secret_key&quot; | docker secret create woodpecker-agent-secret -</code></p><p>or generate a random one like this:</p><p><code>openssl rand -hex 32 | docker secret create woodpecker-agent-secret -</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="all-server-configuration-options">All server configuration options<a class="hash-link" href="#all-server-configuration-options" title="Direct link to heading">‚Äã</a></h2><p>The following list describes all available server configuration options.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_log_level"><code>WOODPECKER_LOG_LEVEL</code><a class="hash-link" href="#woodpecker_log_level" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Configures the logging level. Possible values are <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>fatal</code>, <code>panic</code>, <code>disabled</code> and empty.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_debug_pretty"><code>WOODPECKER_DEBUG_PRETTY</code><a class="hash-link" href="#woodpecker_debug_pretty" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>false</code></p></blockquote><p>Enable pretty-printed debug output.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_debug_nocolor"><code>WOODPECKER_DEBUG_NOCOLOR</code><a class="hash-link" href="#woodpecker_debug_nocolor" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>true</code></p></blockquote><p>Disable colored debug output.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_host"><code>WOODPECKER_HOST</code><a class="hash-link" href="#woodpecker_host" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Server fully qualified url of the user-facing hostname.</p><p>Example: <code>WOODPECKER_HOST=http://woodpecker.example.org</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_server_addr"><code>WOODPECKER_SERVER_ADDR</code><a class="hash-link" href="#woodpecker_server_addr" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>:8000</code></p></blockquote><p>Configures the HTTP listener port.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_server_cert"><code>WOODPECKER_SERVER_CERT</code><a class="hash-link" href="#woodpecker_server_cert" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Path to an SSL certificate used by the server to accept HTTPS requests.</p><p>Example: <code>WOODPECKER_SERVER_CERT=/path/to/cert.pem</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_server_key"><code>WOODPECKER_SERVER_KEY</code><a class="hash-link" href="#woodpecker_server_key" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Path to an SSL certificate key used by the server to accept HTTPS requests.</p><p>Example: <code>WOODPECKER_SERVER_KEY=/path/to/key.pem</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_lets_encrypt"><code>WOODPECKER_LETS_ENCRYPT</code><a class="hash-link" href="#woodpecker_lets_encrypt" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>false</code></p></blockquote><p>Automatically generates an SSL certificate using Let&#x27;s Encrypt, and configures the server to accept HTTPS requests.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_grpc_addr"><code>WOODPECKER_GRPC_ADDR</code><a class="hash-link" href="#woodpecker_grpc_addr" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>:9000</code></p></blockquote><p>Configures the gRPC listener port.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_admin"><code>WOODPECKER_ADMIN</code><a class="hash-link" href="#woodpecker_admin" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Comma-separated list of admin accounts.</p><p>Example: <code>WOODPECKER_ADMIN=user1,user2</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_orgs"><code>WOODPECKER_ORGS</code><a class="hash-link" href="#woodpecker_orgs" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Comma-separated list of approved organizations.</p><p>Example: <code>org1,org2</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_repo_owners"><code>WOODPECKER_REPO_OWNERS</code><a class="hash-link" href="#woodpecker_repo_owners" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Comma-separated list of syncable repo owners. ???</p><p>Example: <code>user1,user2</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_open"><code>WOODPECKER_OPEN</code><a class="hash-link" href="#woodpecker_open" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>false</code></p></blockquote><p>Enable to allow user registration.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_docs"><code>WOODPECKER_DOCS</code><a class="hash-link" href="#woodpecker_docs" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>https://woodpecker-ci.org/</code></p></blockquote><p>Link to documentation in the UI.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_authenticate_public_repos"><code>WOODPECKER_AUTHENTICATE_PUBLIC_REPOS</code><a class="hash-link" href="#woodpecker_authenticate_public_repos" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>false</code></p></blockquote><p>Always use authentication to clone repositories even if they are public. Needed if the forge requires to always authenticate as used by many companies.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_default_clone_image"><code>WOODPECKER_DEFAULT_CLONE_IMAGE</code><a class="hash-link" href="#woodpecker_default_clone_image" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>woodpeckerci/plugin-git:latest</code></p></blockquote><p>The default docker image to be used when cloning the repo</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_session_expires"><code>WOODPECKER_SESSION_EXPIRES</code><a class="hash-link" href="#woodpecker_session_expires" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>72h</code></p></blockquote><p>Configures the session expiration time.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_escalate"><code>WOODPECKER_ESCALATE</code><a class="hash-link" href="#woodpecker_escalate" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>plugins/docker,plugins/gcr,plugins/ecr,woodpeckerci/plugin-docker,woodpeckerci/plugin-docker-buildx</code></p></blockquote><p>Docker images to run in privileged mode. Only change if you are sure what you do!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_docker_config"><code>WOODPECKER_DOCKER_CONFIG</code><a class="hash-link" href="#woodpecker_docker_config" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Configures a specific private registry config for all pipelines.</p><p>Example: <code>WOODPECKER_DOCKER_CONFIG=/home/user/.docker/config.json</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_agent_secret"><code>WOODPECKER_AGENT_SECRET</code><a class="hash-link" href="#woodpecker_agent_secret" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>A shared secret used by server and agents to authenticate communication. A secret can be generated by <code>openssl rand -hex 32</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_agent_secret_file"><code>WOODPECKER_AGENT_SECRET_FILE</code><a class="hash-link" href="#woodpecker_agent_secret_file" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Read the value for <code>WOODPECKER_AGENT_SECRET</code> from the specified filepath</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_keepalive_min_time"><code>WOODPECKER_KEEPALIVE_MIN_TIME</code><a class="hash-link" href="#woodpecker_keepalive_min_time" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Server-side enforcement policy on the minimum amount of time a client should wait before sending a keepalive ping.</p><p>Example: <code>WOODPECKER_KEEPALIVE_MIN_TIME=10s</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_database_driver"><code>WOODPECKER_DATABASE_DRIVER</code><a class="hash-link" href="#woodpecker_database_driver" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>sqlite3</code></p></blockquote><p>The database driver name. Possible values are <code>sqlite3</code>, <code>mysql</code> or <code>postgres</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_database_datasource"><code>WOODPECKER_DATABASE_DATASOURCE</code><a class="hash-link" href="#woodpecker_database_datasource" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>woodpecker.sqlite</code></p></blockquote><p>The database connection string. The default value is the path of the embedded sqlite database file.</p><p>Example:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># https://github.com/go-sql-driver/mysql#dsn-data-source-name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">WOODPECKER_DATABASE_DATASOURCE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root:password@tcp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.2</span><span class="token plain">.3.4:3306</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">/woodpecker?parseTime</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># PostgreSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">WOODPECKER_DATABASE_DATASOURCE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">postgres://root:password@1.2.3.4:5432/woodpecker?sslmode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">disable</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_database_datasource_file"><code>WOODPECKER_DATABASE_DATASOURCE_FILE</code><a class="hash-link" href="#woodpecker_database_datasource_file" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Read the value for <code>WOODPECKER_DATABASE_DATASOURCE</code> from the specified filepath</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_prometheus_auth_token"><code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code><a class="hash-link" href="#woodpecker_prometheus_auth_token" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Token to secure the Prometheus metrics endpoint.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_prometheus_auth_token_file"><code>WOODPECKER_PROMETHEUS_AUTH_TOKEN_FILE</code><a class="hash-link" href="#woodpecker_prometheus_auth_token_file" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Read the value for <code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code> from the specified filepath</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_status_context"><code>WOODPECKER_STATUS_CONTEXT</code><a class="hash-link" href="#woodpecker_status_context" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>ci/woodpecker</code></p></blockquote><p>Context prefix Woodpecker will use to publish status messages to SCM. You probably will only need to change it if you run multiple Woodpecker instances for a single repository.</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_mem_swap"><code>WOODPECKER_LIMIT_MEM_SWAP</code><a class="hash-link" href="#woodpecker_limit_mem_swap" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>0</code></p></blockquote><p>The maximum amount of memory a single pipeline container is allowed to swap to disk, configured in bytes. There is no limit if <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_mem"><code>WOODPECKER_LIMIT_MEM</code><a class="hash-link" href="#woodpecker_limit_mem" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>0</code></p></blockquote><p>The maximum amount of memory a single pipeline container can use, configured in bytes. There is no limit if <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_shm_size"><code>WOODPECKER_LIMIT_SHM_SIZE</code><a class="hash-link" href="#woodpecker_limit_shm_size" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>0</code></p></blockquote><p>The maximum amount of memory of <code>/dev/shm</code> allowed in bytes. There is no limit if <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_cpu_quota"><code>WOODPECKER_LIMIT_CPU_QUOTA</code><a class="hash-link" href="#woodpecker_limit_cpu_quota" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>0</code></p></blockquote><p>The number of microseconds per CPU period that the container is limited to before throttled. There is no limit if <code>0</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_cpu_shares"><code>WOODPECKER_LIMIT_CPU_SHARES</code><a class="hash-link" href="#woodpecker_limit_cpu_shares" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: <code>0</code></p></blockquote><p>The relative weight vs. other containers.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_limit_cpu_set"><code>WOODPECKER_LIMIT_CPU_SET</code><a class="hash-link" href="#woodpecker_limit_cpu_set" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: empty</p></blockquote><p>Comma-separated list to limit the specific CPUs or cores a pipeline container can use.</p><p>Example: <code>WOODPECKER_LIMIT_CPU_SET=1,2</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_config_service_endpoint"><code>WOODPECKER_CONFIG_SERVICE_ENDPOINT</code><a class="hash-link" href="#woodpecker_config_service_endpoint" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: ``</p></blockquote><p>Specify a configuration service endpoint, see <a href="/docs/administration/external-configuration-api">Configuration Extension</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_config_service_secret"><code>WOODPECKER_CONFIG_SERVICE_SECRET</code><a class="hash-link" href="#woodpecker_config_service_secret" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: ``</p></blockquote><p>Specify a signing secret for the configuration service endpoint, see <a href="/docs/administration/external-configuration-api">Configuration Extension</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_config_service_secret_file"><code>WOODPECKER_CONFIG_SERVICE_SECRET_FILE</code><a class="hash-link" href="#woodpecker_config_service_secret_file" title="Direct link to heading">‚Äã</a></h3><blockquote><p>Default: ``</p></blockquote><p>Read the value for <code>WOODPECKER_CONFIG_SERVICE_SECRET</code> from the specified filepath</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_github_"><code>WOODPECKER_GITHUB_...</code><a class="hash-link" href="#woodpecker_github_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/github#configuration">Github configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_gogs_"><code>WOODPECKER_GOGS_...</code><a class="hash-link" href="#woodpecker_gogs_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/gogs#configuration">Gogs configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_gitea_"><code>WOODPECKER_GITEA_...</code><a class="hash-link" href="#woodpecker_gitea_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/gitea#configuration">Gitea configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_bitbucket_"><code>WOODPECKER_BITBUCKET_...</code><a class="hash-link" href="#woodpecker_bitbucket_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/bitbucket#configuration">Bitbucket configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_stash_"><code>WOODPECKER_STASH_...</code><a class="hash-link" href="#woodpecker_stash_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/bitbucket_server#configuration">Bitbucket server configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_gitlab_"><code>WOODPECKER_GITLAB_...</code><a class="hash-link" href="#woodpecker_gitlab_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/gitlab#configuration">Gitlab configuration</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="woodpecker_coding_"><code>WOODPECKER_CODING_...</code><a class="hash-link" href="#woodpecker_coding_" title="Direct link to heading">‚Äã</a></h3><p>See <a href="/docs/administration/forges/coding#configuration">Coding configuration</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/woodpecker-ci/woodpecker/edit/master/docs/docs/30-administration/10-server-config.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/administration/setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Setup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/administration/forges/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#user-registration" class="table-of-contents__link toc-highlight">User registration</a></li><li><a href="#administrators" class="table-of-contents__link toc-highlight">Administrators</a></li><li><a href="#filtering-repositories" class="table-of-contents__link toc-highlight">Filtering repositories</a></li><li><a href="#global-registry-setting" class="table-of-contents__link toc-highlight">Global registry setting</a></li><li><a href="#handling-sensitive-data-in-docker-compose-and-docker-swarm" class="table-of-contents__link toc-highlight">Handling sensitive data in docker-compose and docker-swarm</a></li><li><a href="#all-server-configuration-options" class="table-of-contents__link toc-highlight">All server configuration options</a><ul><li><a href="#woodpecker_log_level" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LOG_LEVEL</code></a></li><li><a href="#woodpecker_debug_pretty" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DEBUG_PRETTY</code></a></li><li><a href="#woodpecker_debug_nocolor" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DEBUG_NOCOLOR</code></a></li><li><a href="#woodpecker_host" class="table-of-contents__link toc-highlight"><code>WOODPECKER_HOST</code></a></li><li><a href="#woodpecker_server_addr" class="table-of-contents__link toc-highlight"><code>WOODPECKER_SERVER_ADDR</code></a></li><li><a href="#woodpecker_server_cert" class="table-of-contents__link toc-highlight"><code>WOODPECKER_SERVER_CERT</code></a></li><li><a href="#woodpecker_server_key" class="table-of-contents__link toc-highlight"><code>WOODPECKER_SERVER_KEY</code></a></li><li><a href="#woodpecker_lets_encrypt" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LETS_ENCRYPT</code></a></li><li><a href="#woodpecker_grpc_addr" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GRPC_ADDR</code></a></li><li><a href="#woodpecker_admin" class="table-of-contents__link toc-highlight"><code>WOODPECKER_ADMIN</code></a></li><li><a href="#woodpecker_orgs" class="table-of-contents__link toc-highlight"><code>WOODPECKER_ORGS</code></a></li><li><a href="#woodpecker_repo_owners" class="table-of-contents__link toc-highlight"><code>WOODPECKER_REPO_OWNERS</code></a></li><li><a href="#woodpecker_open" class="table-of-contents__link toc-highlight"><code>WOODPECKER_OPEN</code></a></li><li><a href="#woodpecker_docs" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DOCS</code></a></li><li><a href="#woodpecker_authenticate_public_repos" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AUTHENTICATE_PUBLIC_REPOS</code></a></li><li><a href="#woodpecker_default_clone_image" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DEFAULT_CLONE_IMAGE</code></a></li><li><a href="#woodpecker_session_expires" class="table-of-contents__link toc-highlight"><code>WOODPECKER_SESSION_EXPIRES</code></a></li><li><a href="#woodpecker_escalate" class="table-of-contents__link toc-highlight"><code>WOODPECKER_ESCALATE</code></a></li><li><a href="#woodpecker_docker_config" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DOCKER_CONFIG</code></a></li><li><a href="#woodpecker_agent_secret" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AGENT_SECRET</code></a></li><li><a href="#woodpecker_agent_secret_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AGENT_SECRET_FILE</code></a></li><li><a href="#woodpecker_keepalive_min_time" class="table-of-contents__link toc-highlight"><code>WOODPECKER_KEEPALIVE_MIN_TIME</code></a></li><li><a href="#woodpecker_database_driver" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DATABASE_DRIVER</code></a></li><li><a href="#woodpecker_database_datasource" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DATABASE_DATASOURCE</code></a></li><li><a href="#woodpecker_database_datasource_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DATABASE_DATASOURCE_FILE</code></a></li><li><a href="#woodpecker_prometheus_auth_token" class="table-of-contents__link toc-highlight"><code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code></a></li><li><a href="#woodpecker_prometheus_auth_token_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_PROMETHEUS_AUTH_TOKEN_FILE</code></a></li><li><a href="#woodpecker_status_context" class="table-of-contents__link toc-highlight"><code>WOODPECKER_STATUS_CONTEXT</code></a></li><li><a href="#woodpecker_limit_mem_swap" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_MEM_SWAP</code></a></li><li><a href="#woodpecker_limit_mem" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_MEM</code></a></li><li><a href="#woodpecker_limit_shm_size" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_SHM_SIZE</code></a></li><li><a href="#woodpecker_limit_cpu_quota" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_CPU_QUOTA</code></a></li><li><a href="#woodpecker_limit_cpu_shares" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_CPU_SHARES</code></a></li><li><a href="#woodpecker_limit_cpu_set" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LIMIT_CPU_SET</code></a></li><li><a href="#woodpecker_config_service_endpoint" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CONFIG_SERVICE_ENDPOINT</code></a></li><li><a href="#woodpecker_config_service_secret" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CONFIG_SERVICE_SECRET</code></a></li><li><a href="#woodpecker_config_service_secret_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CONFIG_SERVICE_SECRET_FILE</code></a></li><li><a href="#woodpecker_github_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GITHUB_...</code></a></li><li><a href="#woodpecker_gogs_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GOGS_...</code></a></li><li><a href="#woodpecker_gitea_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GITEA_...</code></a></li><li><a href="#woodpecker_bitbucket_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_BITBUCKET_...</code></a></li><li><a href="#woodpecker_stash_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_STASH_...</code></a></li><li><a href="#woodpecker_gitlab_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GITLAB_...</code></a></li><li><a href="#woodpecker_coding_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CODING_...</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/usage/intro">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/administration/setup">Server setup</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/fcMQqSMXJy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/#woodpecker:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://mastodon.technology/@WoodpeckerCI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/woodpecker-ci/woodpecker" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ci.woodpecker-ci.org/woodpecker-ci/woodpecker" target="_blank" rel="noopener noreferrer" class="footer__link-item">CI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Woodpecker CI. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8a683e7c.js"></script>
<script src="/assets/js/main.03a60bfc.js"></script>
</body>
</html>