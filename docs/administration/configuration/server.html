<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-3.12 docs-doc-page docs-doc-id-administration/configuration/server" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Server | Woodpecker CI</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://woodpecker-ci.org/docs/administration/configuration/server /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=3.12 /><meta data-rh=true name=docusaurus_tag content=docs-default-3.12 /><meta data-rh=true name=docsearch:version content=3.12 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-3.12 /><meta data-rh=true property=og:title content="Server | Woodpecker CI"/><meta data-rh=true name=description content="Forge and User configuration"/><meta data-rh=true property=og:description content="Forge and User configuration"/><link data-rh=true rel=canonical href=https://woodpecker-ci.org/docs/administration/configuration/server /><link data-rh=true rel=alternate href=https://woodpecker-ci.org/docs/administration/configuration/server hreflang=en /><link data-rh=true rel=alternate href=https://woodpecker-ci.org/docs/administration/configuration/server hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://woodpecker-ci.org/docs/administration/configuration/server","name":"Server","position":1}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Woodpecker CI RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Woodpecker CI Atom Feed"><link rel=icon href=/img/favicon.ico sizes=any><link rel=icon href=/img/favicon.svg type=image/svg+xml><link href=https://floss.social/@WoodpeckerCI rel=me><link rel=stylesheet href=/assets/css/styles.b5aa7040.css /><script src=/assets/js/runtime~main.c612adae.js defer></script><script src=/assets/js/main.df91c2c0.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_j8_R href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_NXOz" style=background-color:var(--ifm-color-primary);color:var(--ifm-color-gray-900) role=banner><div class=announcementBarPlaceholder_drwJ></div><div class="content_CQQx announcementBarContent_HQKK">If you like Woodpecker-CI, <a href=https://github.com/woodpecker-ci/woodpecker rel="noopener noreferrer" target=_blank>give us a star on GitHub</a> ! ‚≠êÔ∏è</div><button type=button aria-label=Close class="clean-btn close closeButton_aI64 announcementBarClose_Ocrk"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="Woodpecker Logo" class="themedComponent_NZkU themedComponent--light_L8z_"/><img src=/img/logo.svg alt="Woodpecker Logo" class="themedComponent_NZkU themedComponent--dark_JADr"/></div><b class="navbar__title text--truncate">Woodpecker</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/intro>Docs</a><a class="navbar__item navbar__link" href=/plugins>Plugins</a><a class="navbar__item navbar__link" href=/blog>Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>More</a><ul class=dropdown__menu><li><a class=dropdown__link href=/migrations>Migrations</a><li><a class=dropdown__link href=/awesome>Awesome</a><li><a class=dropdown__link href=/api>API</a><li><a class=dropdown__link href=/about>About</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/administration/configuration/server>3.12.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/next/administration/configuration/server>Next üöß</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/administration/configuration/server>3.12.x</a><li><a class=dropdown__link href=/docs/3.11/administration/configuration/server>3.11.x üíÄ</a><li><a class=dropdown__link href=/docs/3.10/administration/configuration/server>3.10.x üíÄ</a><li><a class=dropdown__link href=/docs/2.8/intro>2.8.x üíÄ</a><li><a class=dropdown__link href=/versions>All versions</a></ul></div><a href=https://opencollective.com/woodpecker-ci target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-sponsor-link">Sponsor Us<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><a href=https://github.com/woodpecker-ci/woodpecker target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_W7BC colorModeToggle_N744"><button class="clean-btn toggleButton_qpde toggleButtonDisabled_Nrix" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vPOy lightToggleIcon_NhZc"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vPOy darkToggleIcon_OwMl"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vPOy systemToggleIcon_sy7d"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_BthQ><div class="navbar__search searchBarContainer_Ezhe" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_UaHk" value="" /><div class="loadingRing_Qag5 searchBarLoadingRing_b4pt"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_Ejvy"><div class=docsWrapper_OUdQ><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_J5L3" type=button></button><div class=docRoot_GRhW><aside class="theme-doc-sidebar-container docSidebarContainer_EAXN"><div class=sidebarViewport_u2Yr><div class=sidebar_lvaS><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_O0uL menuWithAnnouncementBar_S889"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/intro><span title="Welcome to Woodpecker" class=linkLabel_BS46>Welcome to Woodpecker</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/usage/intro><span title=Usage class=categoryLinkLabel_FqRb>Usage</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/intro><span title="Your first pipeline" class=linkLabel_BS46>Your first pipeline</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/terminology><span title=Terminology class=linkLabel_BS46>Terminology</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/workflow-syntax><span title="Workflow syntax" class=linkLabel_BS46>Workflow syntax</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/workflows><span title=Workflows class=linkLabel_BS46>Workflows</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/matrix-workflows><span title="Matrix workflows" class=linkLabel_BS46>Matrix workflows</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/secrets><span title=Secrets class=linkLabel_BS46>Secrets</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/registries><span title=Registries class=linkLabel_BS46>Registries</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/cron><span title=Cron class=linkLabel_BS46>Cron</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/environment><span title="Environment variables" class=linkLabel_BS46>Environment variables</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist" tabindex=0 href=/docs/usage/plugins/overview><span title=Plugins class=categoryLinkLabel_FqRb>Plugins</span></a><button aria-label="Expand sidebar category 'Plugins'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/services><span title=Services class=linkLabel_BS46>Services</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/volumes><span title=Volumes class=linkLabel_BS46>Volumes</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist" tabindex=0 href=/docs/usage/extensions><span title=Extensions class=categoryLinkLabel_FqRb>Extensions</span></a><button aria-label="Expand sidebar category 'Extensions'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/linter><span title=Linter class=linkLabel_BS46>Linter</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/project-settings><span title="Project settings" class=linkLabel_BS46>Project settings</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/badges><span title="Status Badges" class=linkLabel_BS46>Status Badges</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/advanced-usage><span title="Advanced usage" class=linkLabel_BS46>Advanced usage</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/usage/troubleshooting><span title=Troubleshooting class=linkLabel_BS46>Troubleshooting</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/administration/general><span title=Administration class=categoryLinkLabel_FqRb>Administration</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/administration/general><span title=General class=linkLabel_BS46>General</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/administration/installation/docker-compose><span title=Installation class=categoryLinkLabel_FqRb>Installation</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/administration/configuration/server><span title=Configuration class=categoryLinkLabel_FqRb>Configuration</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/administration/configuration/server><span title=Server class=linkLabel_BS46>Server</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/administration/configuration/backends/docker><span title=Backends class=categoryLinkLabel_FqRb>Backends</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist" tabindex=0 href=/docs/administration/configuration/forges/overview><span title=Forges class=categoryLinkLabel_FqRb>Forges</span></a><button aria-label="Expand sidebar category 'Forges'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/administration/configuration/agent><span title=Agent class=linkLabel_BS46>Agent</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/administration/configuration/autoscaler><span title=Autoscaler class=linkLabel_BS46>Autoscaler</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/administration/configuration/addons><span title=Addons class=linkLabel_BS46>Addons</span></a></ul></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/cli><span title=CLI class=linkLabel_BS46>CLI</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_tW9Z menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/development/getting-started><span title=Development class=categoryLinkLabel_FqRb>Development</span></a></div></ul></nav></div></div></aside><main class=docMainContainer_FlMr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_FdXf"><div class=docItemContainer_WOnX><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_KMAi" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_O42b><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Administration</span><li class=breadcrumbs__item><span class=breadcrumbs__link>Configuration</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Server</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.12.x</span><div class="tocCollapsible_GJF9 theme-doc-toc-mobile tocMobile_eoUk"><button type=button class="clean-btn tocCollapsibleButton_aHSp">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Server</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=forge-and-user-configuration>Forge and User configuration<a href=#forge-and-user-configuration class=hash-link aria-label="Direct link to Forge and User configuration" title="Direct link to Forge and User configuration" translate=no>‚Äã</a></h2>
<p>Woodpecker does not have its own user registration. Users are provided by your <a class="" href=/docs/administration/configuration/forges/overview>forge</a> (using OAuth2). The registration is closed by default (<code>WOODPECKER_OPEN=false</code>). If the registration is open, any user with an account can log in to Woodpecker with the configured forge.</p>
<p>You can also restrict the registration:</p>
<ul>
<li class="">
<p>closed registration and manually managing users with the CLI <code>woodpecker-cli user</code></p>
</li>
<li class="">
<p>open registration and allowing certain admin users with the setting <code>WOODPECKER_ADMIN</code></p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_OPEN</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>false</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_ADMIN</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>john.smith,jane_doe</span><br/></span></code></pre></div></div>
</li>
<li class="">
<p>open registration and filtering by organizational affiliation with the setting <code>WOODPECKER_ORGS</code></p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_OPEN</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_ORGS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>dolores,dog-patch</span><br/></span></code></pre></div></div>
</li>
</ul>
<p>Administrators should also be explicitly set in your configuration.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_ADMIN</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>john.smith,jane_doe</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=repository-configuration>Repository configuration<a href=#repository-configuration class=hash-link aria-label="Direct link to Repository configuration" title="Direct link to Repository configuration" translate=no>‚Äã</a></h2>
<p>Woodpecker works with the user's OAuth permissions on the forge. By default Woodpecker will synchronize all repositories the user has access to. Use the variable <code>WOODPECKER_REPO_OWNERS</code> to filter which repos should only be synchronized by GitHub users. Normally you should enter the GitHub name of your company here.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_REPO_OWNERS</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>my_company,my_company_oss_github_user</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=databases>Databases<a href=#databases class=hash-link aria-label="Direct link to Databases" title="Direct link to Databases" translate=no>‚Äã</a></h2>
<p>The default database engine of Woodpecker is an embedded SQLite database which requires zero installation or configuration. But you can replace it with a MySQL/MariaDB or PostgreSQL database. There are also some fundamentals to keep in mind:</p>
<ul>
<li class="">
<p>Woodpecker does not create your database automatically. If you are using the MySQL or Postgres driver you will need to manually create your database using <code>CREATE DATABASE</code>.</p>
</li>
<li class="">
<p>Woodpecker does not perform data archival; it considered out-of-scope for the project. Woodpecker is rather conservative with the amount of data it stores, however, you should expect the database logs to grow the size of your database considerably.</p>
</li>
<li class="">
<p>Woodpecker automatically handles database migration, including the initial creation of tables and indexes. New versions of Woodpecker will automatically upgrade the database unless otherwise specified in the release notes.</p>
</li>
<li class="">
<p>Woodpecker does not perform database backups. This should be handled by separate third party tools provided by your database vendor of choice.</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=sqlite>SQLite<a href=#sqlite class=hash-link aria-label="Direct link to SQLite" title="Direct link to SQLite" translate=no>‚Äã</a></h3>
<p>By default Woodpecker uses a SQLite database stored under <code>/var/lib/woodpecker/</code>. If using containers, you can mount a <a href=https://docs.docker.com/storage/volumes/#create-and-manage-volumes target=_blank rel="noopener noreferrer" class="">data volume</a> to persist the SQLite database.</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>docker-compose.yaml</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">services:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  woodpecker-server:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    [...]</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    volumes:</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - woodpecker-server-data:/var/lib/woodpecker/</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=mysqlmariadb>MySQL/MariaDB<a href=#mysqlmariadb class=hash-link aria-label="Direct link to MySQL/MariaDB" title="Direct link to MySQL/MariaDB" translate=no>‚Äã</a></h3>
<p>The below example demonstrates MySQL database configuration. See the official driver <a href=https://github.com/go-sql-driver/mysql#dsn-data-source-name target=_blank rel="noopener noreferrer" class="">documentation</a> for configuration options and examples.
The minimum version of MySQL/MariaDB required is determined by the <code>go-sql-driver/mysql</code> - see <a href=https://github.com/go-sql-driver/mysql#requirements target=_blank rel="noopener noreferrer" class="">it's README</a> for more information.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_DATABASE_DRIVER</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>mysql</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_DATABASE_DATASOURCE</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>root:password@tcp(1.2.3.4:3306)/woodpecker?parseTime=true</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=postgresql>PostgreSQL<a href=#postgresql class=hash-link aria-label="Direct link to PostgreSQL" title="Direct link to PostgreSQL" translate=no>‚Äã</a></h3>
<p>The below example demonstrates Postgres database configuration. See the official driver <a href=https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING target=_blank rel="noopener noreferrer" class="">documentation</a> for configuration options and examples.
Please use Postgres versions equal or higher than <strong>11</strong>.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_DATABASE_DRIVER</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>postgres</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_DATABASE_DATASOURCE</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>postgres://root:password@1.2.3.4:5432/postgres?sslmode=disable</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=tls>TLS<a href=#tls class=hash-link aria-label="Direct link to TLS" title="Direct link to TLS" translate=no>‚Äã</a></h2>
<p>Woodpecker supports SSL configuration by mounting certificates into your container.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_SERVER_CERT</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>/etc/certs/woodpecker.example.com/server.crt</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_SERVER_KEY</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>/etc/certs/woodpecker.example.com/server.key</span><br/></span></code></pre></div></div>
<p>TLS support is provided using the <a href=https://golang.org/pkg/net/http/#ListenAndServeTLS target=_blank rel="noopener noreferrer" class="">ListenAndServeTLS</a> function from the Go standard library.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=container-configuration>Container configuration<a href=#container-configuration class=hash-link aria-label="Direct link to Container configuration" title="Direct link to Container configuration" translate=no>‚Äã</a></h3>
<p>In addition to the ports shown in the <a class="" href=/docs/administration/installation/docker-compose>docker-compose</a> installation, port <code>443</code> must be exposed:</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>docker-compose.yaml</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">services:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  woodpecker-server:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    [...]</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    ports:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - 80:80</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - 443:443</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">      - 9000:9000</span><br/></span></code></pre></div></div>
<p>Additionally, the certificate and key must be mounted and referenced:</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>docker-compose.yaml</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">services:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  woodpecker-server:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    [...]</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    environment:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - WOODPECKER_SERVER_CERT=/etc/certs/woodpecker.example.com/server.crt</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - WOODPECKER_SERVER_KEY=/etc/certs/woodpecker.example.com/server.key</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    volumes:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - /etc/certs/woodpecker.example.com/server.crt:/etc/certs/woodpecker.example.com/server.crt</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>      - /etc/certs/woodpecker.example.com/server.key:/etc/certs/woodpecker.example.com/server.key</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=reverse-proxy>Reverse Proxy<a href=#reverse-proxy class=hash-link aria-label="Direct link to Reverse Proxy" title="Direct link to Reverse Proxy" translate=no>‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=apache>Apache<a href=#apache class=hash-link aria-label="Direct link to Apache" title="Direct link to Apache" translate=no>‚Äã</a></h3>
<p>This guide provides a brief overview for installing Woodpecker server behind the Apache2 web-server. This is an example configuration:</p>
<div class="language-apacheconf codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-apacheconf codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token directive-inline property" style=color:#36acaa>ProxyPreserveHost</span><span class="token plain"> On</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token directive-inline property" style=color:#36acaa>RequestHeader</span><span class="token plain"> set X-Forwarded-Proto </span><span class="token string" style=color:#e3116c>"https"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token directive-inline property" style=color:#36acaa>ProxyPass</span><span class="token plain"> / http://127.0.0.1:8000/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token directive-inline property" style=color:#36acaa>ProxyPassReverse</span><span class="token plain"> / http://127.0.0.1:8000/</span><br/></span></code></pre></div></div>
<p>You must have these Apache modules installed:</p>
<ul>
<li class=""><code>proxy</code></li>
<li class=""><code>proxy_http</code></li>
</ul>
<p>You must configure Apache to set <code>X-Forwarded-Proto</code> when using https.</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">ProxyPreserveHost On</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>RequestHeader set X-Forwarded-Proto "https"</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">ProxyPass / http://127.0.0.1:8000/</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">ProxyPassReverse / http://127.0.0.1:8000/</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=nginx>Nginx<a href=#nginx class=hash-link aria-label="Direct link to Nginx" title="Direct link to Nginx" translate=no>‚Äã</a></h3>
<p>This guide provides a basic overview for installing Woodpecker server behind the Nginx web-server. For more advanced configuration options please consult the official Nginx <a href=https://docs.nginx.com/nginx/admin-guide target=_blank rel="noopener noreferrer" class="">documentation</a>.</p>
<p>Example configuration:</p>
<div class="language-nginx codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-nginx codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token directive keyword" style=color:#00009f>server</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token directive keyword" style=color:#00009f>listen</span><span class="token directive"> </span><span class="token directive number" style=color:#36acaa>80</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token directive keyword" style=color:#00009f>server_name</span><span class="token directive"> woodpecker.example.com</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token directive keyword" style=color:#00009f>location</span><span class="token directive"> /</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_set_header</span><span class="token directive"> X-Forwarded-For </span><span class="token directive variable" style=color:#36acaa>$remote_addr</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_set_header</span><span class="token directive"> X-Forwarded-Proto </span><span class="token directive variable" style=color:#36acaa>$scheme</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_set_header</span><span class="token directive"> Host </span><span class="token directive variable" style=color:#36acaa>$http_host</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_pass</span><span class="token directive"> http://127.0.0.1:8000</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_redirect</span><span class="token directive"> </span><span class="token directive boolean" style=color:#36acaa>off</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_http_version</span><span class="token directive"> 1.1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>proxy_buffering</span><span class="token directive"> </span><span class="token directive boolean" style=color:#36acaa>off</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token directive keyword" style=color:#00009f>chunked_transfer_encoding</span><span class="token directive"> </span><span class="token directive boolean" style=color:#36acaa>off</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>You must configure the proxy to set <code>X-Forwarded</code> proxy headers:</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">server {</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    listen 80;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    server_name woodpecker.example.com;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    location / {</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>        proxy_set_header X-Forwarded-For $remote_addr;</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>        proxy_set_header X-Forwarded-Proto $scheme;</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        proxy_pass http://127.0.0.1:8000;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        proxy_redirect off;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        proxy_http_version 1.1;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        proxy_buffering off;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        chunked_transfer_encoding off;</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    }</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=caddy>Caddy<a href=#caddy class=hash-link aria-label="Direct link to Caddy" title="Direct link to Caddy" translate=no>‚Äã</a></h3>
<p>This guide provides a brief overview for installing Woodpecker server behind the <a href=https://caddyserver.com/ target=_blank rel="noopener noreferrer" class="">Caddy web-server</a>. This is an example caddyfile proxy configuration:</p>
<div class="language-caddy codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-caddy codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token plain"># expose WebUI and API</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker.example.com {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  reverse_proxy woodpecker-server:8000</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"># expose gRPC</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker-agent.example.com {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  reverse_proxy h2c://woodpecker-server:9000</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=tunnelmole>Tunnelmole<a href=#tunnelmole class=hash-link aria-label="Direct link to Tunnelmole" title="Direct link to Tunnelmole" translate=no>‚Äã</a></h3>
<p><a href=https://github.com/robbie-cahill/tunnelmole-client target=_blank rel="noopener noreferrer" class="">Tunnelmole</a> is an open source tunneling tool.</p>
<p>Start by <a href=https://github.com/robbie-cahill/tunnelmole-client#installation target=_blank rel="noopener noreferrer" class="">installing tunnelmole</a>.</p>
<p>After the installation, run the following command to start tunnelmole:</p>
<div class="language-bash codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-bash codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token plain">tmole </span><span class="token number" style=color:#36acaa>8000</span><br/></span></code></pre></div></div>
<p>It will start a tunnel and will give a response like this:</p>
<div class="language-bash codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-bash codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token plain">‚ûú  ~ tmole </span><span class="token number" style=color:#36acaa>8000</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">http://bvdo5f-ip-49-183-170-144.tunnelmole.net is forwarding to localhost:8000</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">https://bvdo5f-ip-49-183-170-144.tunnelmole.net is forwarding to localhost:8000</span><br/></span></code></pre></div></div>
<p>Set <code>WOODPECKER_HOST</code> to the Tunnelmole URL (<code>xxx.tunnelmole.net</code>) and start the server.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=ngrok>Ngrok<a href=#ngrok class=hash-link aria-label="Direct link to Ngrok" title="Direct link to Ngrok" translate=no>‚Äã</a></h3>
<p><a href=https://ngrok.com/ target=_blank rel="noopener noreferrer" class="">Ngrok</a> is a popular closed source tunnelling tool. After installing ngrok, open a new console and run the following command:</p>
<div class="language-bash codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-bash codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token plain">ngrok http </span><span class="token number" style=color:#36acaa>8000</span><br/></span></code></pre></div></div>
<p>Set <code>WOODPECKER_HOST</code> to the ngrok URL (usually xxx.ngrok.io) and start the server.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=traefik>Traefik<a href=#traefik class=hash-link aria-label="Direct link to Traefik" title="Direct link to Traefik" translate=no>‚Äã</a></h3>
<p>To install the Woodpecker server behind a <a href=https://traefik.io/ target=_blank rel="noopener noreferrer" class="">Traefik</a> load balancer, you must expose both the <code>http</code> and the <code>gRPC</code> ports. Here is a comprehensive example, considering you are running Traefik with docker swarm and want to do TLS termination and automatic redirection from http to https.</p>
<div class="language-yaml codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-yaml codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>services</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>server</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>image</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> woodpeckerci/woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">server</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain">latest</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>environment</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> WOODPECKER_OPEN=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> WOODPECKER_ADMIN=your_admin_user</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token comment" style=color:#999988;font-style:italic># other settings ...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>networks</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> dmz </span><span class="token comment" style=color:#999988;font-style:italic># externally defined network, so that traefik can connect to the server</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>volumes</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">server</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain">/var/lib/woodpecker/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>deploy</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>labels</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.enable=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic># web server</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.services.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">service.loadbalancer.server.port=8000</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.rule=Host(`ci.example.com`)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.tls=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.tls.certresolver=letsencrypt</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.entrypoints=web</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.service=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">service</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker.rule=Host(`ci.example.com`)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker.entrypoints=web</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker.service=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">service</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.middlewares.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect.redirectscheme.scheme=https</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.middlewares.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect.redirectscheme.permanent=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker.middlewares=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect@docker</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>#  gRPC service</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.services.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.loadbalancer.server.port=9000</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.services.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.loadbalancer.server.scheme=h2c</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.rule=Host(`woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.example.com`)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.tls=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.tls.certresolver=letsencrypt</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.entrypoints=web</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secure.service=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.rule=Host(`woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.example.com`)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.entrypoints=web</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.service=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.middlewares.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect.redirectscheme.scheme=https</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.middlewares.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect.redirectscheme.permanent=true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> traefik.http.routers.woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc.middlewares=woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">grpc</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">redirect@docker</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>volumes</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>woodpecker-server-data</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>driver</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> local</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>networks</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>dmz</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>external</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#36acaa>true</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=metrics>Metrics<a href=#metrics class=hash-link aria-label="Direct link to Metrics" title="Direct link to Metrics" translate=no>‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=endpoint>Endpoint<a href=#endpoint class=hash-link aria-label="Direct link to Endpoint" title="Direct link to Endpoint" translate=no>‚Äã</a></h3>
<p>Woodpecker is compatible with Prometheus and exposes a <code>/metrics</code> endpoint if the environment variable <code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code> is set. Please note that access to the metrics endpoint is restricted and requires the authorization token from the environment variable mentioned above.</p>
<div class="language-yaml codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-yaml codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>global</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>scrape_interval</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 60s</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>scrape_configs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>job_name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'woodpecker'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>bearer_token</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> dummyToken</span><span class="token punctuation" style=color:#393A34>...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>static_configs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>targets</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>'woodpecker.domain.com'</span><span class="token punctuation" style=color:#393A34>]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=authorization>Authorization<a href=#authorization class=hash-link aria-label="Direct link to Authorization" title="Direct link to Authorization" translate=no>‚Äã</a></h3>
<p>An administrator will need to generate a user API token and configure in the Prometheus configuration file as a bearer token. Please see the following example:</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">global:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  scrape_interval: 60s</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">scrape_configs:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  - job_name: 'woodpecker'</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    bearer_token: dummyToken...</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    static_configs:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       - targets: ['woodpecker.domain.com']</span><br/></span></code></pre></div></div>
<p>As an alternative, the token can also be read from a file:</p>
<div class="language-diff codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-diff codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">global:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  scrape_interval: 60s</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">scrape_configs:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  - job_name: 'woodpecker'</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    bearer_token_file: /etc/secrets/woodpecker-monitoring-token</span><br/></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    static_configs:</span><br/></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       - targets: ['woodpecker.domain.com']</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=reference>Reference<a href=#reference class=hash-link aria-label="Direct link to Reference" title="Direct link to Reference" translate=no>‚Äã</a></h3>
<p>List of Prometheus metrics specific to Woodpecker:</p>
<div class="language-yaml codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-yaml codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_pipeline_count Pipeline count.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_pipeline_count counter</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pipeline_count</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">branch="main"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">pipeline="total"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">repo="woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">ci/woodpecker"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">status="success"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> 3</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pipeline_count</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">branch="dev"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">pipeline="total"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">repo="woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">ci/woodpecker"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">status="success"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> 3</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_pipeline_time Build time.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_pipeline_time gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pipeline_time</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">branch="main"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">pipeline="total"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">repo="woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">ci/woodpecker"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">status="success"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> 116</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pipeline_time</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">branch="dev"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">pipeline="total"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">repo="woodpecker</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">ci/woodpecker"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">status="success"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> 155</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_pipeline_total_count Total number of builds.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_pipeline_total_count gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pipeline_total_count 1025</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_pending_steps Total number of pending pipeline steps.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_pending_steps gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_pending_steps 0</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_repo_count Total number of repos.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_repo_count gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_repo_count 9</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_running_steps Total number of running pipeline steps.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_running_steps gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_running_steps 0</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_user_count Total number of users.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_user_count gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_user_count 1</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_waiting_steps Total number of pipeline waiting on deps.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_waiting_steps gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_waiting_steps 0</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># HELP woodpecker_worker_count Total number of workers.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># TYPE woodpecker_worker_count gauge</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">woodpecker_worker_count 4</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=external-configuration-api>External Configuration API<a href=#external-configuration-api class=hash-link aria-label="Direct link to External Configuration API" title="Direct link to External Configuration API" translate=no>‚Äã</a></h2>
<p>To provide additional management and preprocessing capabilities for pipeline configurations Woodpecker supports an HTTP API which can be enabled to call an external config service.
Before the run or restart of any pipeline Woodpecker will make a POST request to an external HTTP API sending the current repository, build information and all current config files retrieved from the repository. The external API can then send back new pipeline configurations that will be used immediately or respond with <code>HTTP 204</code> to tell the system to use the existing configuration.</p>
<p>Every request sent by Woodpecker is signed using a <a href=https://datatracker.ietf.org/doc/html/rfc9421 target=_blank rel="noopener noreferrer" class="">http-signature</a> by a private key (ed25519) generated on the first start of the Woodpecker server. You can get the public key for the verification of the http-signature from <code>http(s)://your-woodpecker-server/api/signature/public-key</code>.</p>
<p>A simplistic example configuration service can be found here: <a href=https://github.com/woodpecker-ci/example-config-service target=_blank rel="noopener noreferrer" class="">https://github.com/woodpecker-ci/example-config-service</a></p>
<div class="theme-admonition theme-admonition-warning admonition_WO13 alert alert--warning"><div class=admonitionHeading_tqcs><span class=admonitionIcon_mwEg><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Pdna><p>You need to trust the external config service as it is getting secret information about the repository and pipeline and has the ability to change pipeline configs that could run malicious tasks.</div></div>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=configuration>Configuration<a href=#configuration class=hash-link aria-label="Direct link to Configuration" title="Direct link to Configuration" translate=no>‚Äã</a></h3>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>Server</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_CONFIG_SERVICE_ENDPOINT</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>https://example.com/ciconfig</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_q3H0" id=example-request-made-by-woodpecker>Example request made by Woodpecker<a href=#example-request-made-by-woodpecker class=hash-link aria-label="Direct link to Example request made by Woodpecker" title="Direct link to Example request made by Woodpecker" translate=no>‚Äã</a></h4>
<div class="language-json codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-json codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"repo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>100</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"uid"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"user_id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"namespace"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"woodpecker-test-pipe"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"slug"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"scm"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"git"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"git_http_url"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"git_ssh_url"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"link"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"default_branch"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"private"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"visibility"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"private"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"active"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"config"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"trusted"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"protected"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"ignore_forks"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"ignore_pulls"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"cancel_pulls"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"timeout"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>60</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"counter"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"synced"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"created"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"updated"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"version"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"pipeline"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"author"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"myUser"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"author_avatar"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://myforge.com/avatars/d6b3f7787a685fcdf2a44e2c685c7e03"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"author_email"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my@email.com"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"branch"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"main"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"changed_files"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"some-file-name.txt"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"commit"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"2fff90f8d288a4640e90f05049fe30e61a14fd50"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"created_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"deploy_to"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"enqueued_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"error"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"event"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"push"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"finished_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"link_url"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://myforge.com/myUser/woodpecker-testpipe/commit/2fff90f8d288a4640e90f05049fe30e61a14fd50"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"message"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"test old config\n"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"number"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"parent"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"ref"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"refs/heads/main"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"refspec"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"clone_url"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"reviewed_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"reviewed_by"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"sender"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"myUser"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"signed"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"started_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"status"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"timestamp"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1645962783</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"title"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"updated_at"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"verified"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"netrc"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"machine"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://example.com"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"login"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"user"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"password"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"password"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_q3H0" id=example-response-structure>Example response structure<a href=#example-response-structure class=hash-link aria-label="Direct link to Example response structure" title="Direct link to Example response structure" translate=no>‚Äã</a></h4>
<div class="language-json codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-json codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"configs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"central-override"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"data"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"steps:\n  - name: backend\n    image: alpine\n    commands:\n      - echo \"Hello there from ConfigAPI\"\n"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=ui-customization>UI customization<a href=#ui-customization class=hash-link aria-label="Direct link to UI customization" title="Direct link to UI customization" translate=no>‚Äã</a></h2>
<p>Woodpecker supports custom JS and CSS files. These files must be present in the server's filesystem.
They can be backed in a Docker image or mounted from a ConfigMap inside a Kubernetes environment.
The configuration variables are independent of each other, which means it can be just one file present, or both.</p>
<div class="language-ini codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-ini codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token key attr-name" style=color:#00a4db>WOODPECKER_CUSTOM_CSS_FILE</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>/usr/local/www/woodpecker.css</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key attr-name" style=color:#00a4db>WOODPECKER_CUSTOM_JS_FILE</span><span class="token punctuation" style=color:#393A34>=</span><span class="token value attr-value" style=color:#e3116c>/usr/local/www/woodpecker.js</span><br/></span></code></pre></div></div>
<p>The examples below show how to place a banner message in the top navigation bar of Woodpecker.</p>
<div class="language-css codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>woodpecker.css</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-css codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token selector" style=color:#00009f>.banner-message</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>position</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> absolute</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>width</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 280px</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>height</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 40px</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>margin-left</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 240px</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>margin-top</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 5px</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>padding-top</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 5px</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>font-weight</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> bold</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>background</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> red no-repeat</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>text-align</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> center</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<div class="language-javascript codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_oeUj>woodpecker.js</div><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-javascript codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// place/copy a minified version of your preferred lightweight JavaScript library here ...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token string" style=color:#e3116c>'use strict'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>e</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>/*...*/</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>$</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>ready</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>$</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'.app nav img'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>first</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>htmlAfter</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"&lt;div class='banner-message'>This is a demo banner message :)&lt;/div>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_q3H0" id=environment-variables>Environment variables<a href=#environment-variables class=hash-link aria-label="Direct link to Environment variables" title="Direct link to Environment variables" translate=no>‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=log_level>LOG_LEVEL<a href=#log_level class=hash-link aria-label="Direct link to LOG_LEVEL" title="Direct link to LOG_LEVEL" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_LOG_LEVEL</code></li>
<li class="">Default: <code>info</code></li>
</ul>
<p>Configures the logging level. Possible values are <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>fatal</code>, <code>panic</code>, <code>disabled</code> and empty.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=log_file>LOG_FILE<a href=#log_file class=hash-link aria-label="Direct link to LOG_FILE" title="Direct link to LOG_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_LOG_FILE</code></li>
<li class="">Default: <code>stderr</code></li>
</ul>
<p>Output destination for logs.
'stdout' and 'stderr' can be used as special keywords.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_log>DATABASE_LOG<a href=#database_log class=hash-link aria-label="Direct link to DATABASE_LOG" title="Direct link to DATABASE_LOG" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_LOG</code></li>
<li class="">Default: <code>false</code></li>
</ul>
<p>Enable logging in database engine (currently xorm).</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_log_sql>DATABASE_LOG_SQL<a href=#database_log_sql class=hash-link aria-label="Direct link to DATABASE_LOG_SQL" title="Direct link to DATABASE_LOG_SQL" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_LOG_SQL</code></li>
<li class="">Default: <code>false</code></li>
</ul>
<p>Enable logging of sql commands.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_max_connections>DATABASE_MAX_CONNECTIONS<a href=#database_max_connections class=hash-link aria-label="Direct link to DATABASE_MAX_CONNECTIONS" title="Direct link to DATABASE_MAX_CONNECTIONS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_MAX_CONNECTIONS</code></li>
<li class="">Default: <code>100</code></li>
</ul>
<p>Max database connections xorm is allowed create.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_idle_connections>DATABASE_IDLE_CONNECTIONS<a href=#database_idle_connections class=hash-link aria-label="Direct link to DATABASE_IDLE_CONNECTIONS" title="Direct link to DATABASE_IDLE_CONNECTIONS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_IDLE_CONNECTIONS</code></li>
<li class="">Default: <code>2</code></li>
</ul>
<p>Amount of database connections xorm will hold open.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_connection_timeout>DATABASE_CONNECTION_TIMEOUT<a href=#database_connection_timeout class=hash-link aria-label="Direct link to DATABASE_CONNECTION_TIMEOUT" title="Direct link to DATABASE_CONNECTION_TIMEOUT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_CONNECTION_TIMEOUT</code></li>
<li class="">Default: <code>3 Seconds</code></li>
</ul>
<p>Time an active database connection is allowed to stay open.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=debug_pretty>DEBUG_PRETTY<a href=#debug_pretty class=hash-link aria-label="Direct link to DEBUG_PRETTY" title="Direct link to DEBUG_PRETTY" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEBUG_PRETTY</code></li>
<li class="">Default: <code>false</code></li>
</ul>
<p>Enable pretty-printed debug output.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=debug_nocolor>DEBUG_NOCOLOR<a href=#debug_nocolor class=hash-link aria-label="Direct link to DEBUG_NOCOLOR" title="Direct link to DEBUG_NOCOLOR" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEBUG_NOCOLOR</code></li>
<li class="">Default: <code>true</code></li>
</ul>
<p>Disable colored debug output.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=host>HOST<a href=#host class=hash-link aria-label="Direct link to HOST" title="Direct link to HOST" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_HOST</code></li>
<li class="">Default: none</li>
</ul>
<p>Server fully qualified URL of the user-facing hostname, port (if not default for HTTP/HTTPS) and path prefix.</p>
<p>Examples:</p>
<ul>
<li class=""><code>WOODPECKER_HOST=http://woodpecker.example.org</code></li>
<li class=""><code>WOODPECKER_HOST=http://example.org/woodpecker</code></li>
<li class=""><code>WOODPECKER_HOST=http://example.org:1234/woodpecker</code></li>
</ul>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=server_addr>SERVER_ADDR<a href=#server_addr class=hash-link aria-label="Direct link to SERVER_ADDR" title="Direct link to SERVER_ADDR" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_SERVER_ADDR</code></li>
<li class="">Default: <code>:8000</code></li>
</ul>
<p>Configures the HTTP listener port.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=server_addr_tls>SERVER_ADDR_TLS<a href=#server_addr_tls class=hash-link aria-label="Direct link to SERVER_ADDR_TLS" title="Direct link to SERVER_ADDR_TLS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_SERVER_ADDR_TLS</code></li>
<li class="">Default: <code>:443</code></li>
</ul>
<p>Configures the HTTPS listener port when SSL is enabled.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=server_cert>SERVER_CERT<a href=#server_cert class=hash-link aria-label="Direct link to SERVER_CERT" title="Direct link to SERVER_CERT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_SERVER_CERT</code></li>
<li class="">Default: none</li>
</ul>
<p>Path to an SSL certificate used by the server to accept HTTPS requests.</p>
<p>Example: <code>WOODPECKER_SERVER_CERT=/path/to/cert.pem</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=server_key>SERVER_KEY<a href=#server_key class=hash-link aria-label="Direct link to SERVER_KEY" title="Direct link to SERVER_KEY" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_SERVER_KEY</code></li>
<li class="">Default: none</li>
</ul>
<p>Path to an SSL certificate key used by the server to accept HTTPS requests.</p>
<p>Example: <code>WOODPECKER_SERVER_KEY=/path/to/key.pem</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=custom_css_file>CUSTOM_CSS_FILE<a href=#custom_css_file class=hash-link aria-label="Direct link to CUSTOM_CSS_FILE" title="Direct link to CUSTOM_CSS_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_CUSTOM_CSS_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>File path for the server to serve a custom .CSS file, used for customizing the UI.
Can be used for showing banner messages, logos, or environment-specific hints (a.k.a. white-labeling).
The file must be UTF-8 encoded, to ensure all special characters are preserved.</p>
<p>Example: <code>WOODPECKER_CUSTOM_CSS_FILE=/usr/local/www/woodpecker.css</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=custom_js_file>CUSTOM_JS_FILE<a href=#custom_js_file class=hash-link aria-label="Direct link to CUSTOM_JS_FILE" title="Direct link to CUSTOM_JS_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_CUSTOM_JS_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>File path for the server to serve a custom .JS file, used for customizing the UI.
Can be used for showing banner messages, logos, or environment-specific hints (a.k.a. white-labeling).
The file must be UTF-8 encoded, to ensure all special characters are preserved.</p>
<p>Example: <code>WOODPECKER_CUSTOM_JS_FILE=/usr/local/www/woodpecker.js</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=grpc_addr>GRPC_ADDR<a href=#grpc_addr class=hash-link aria-label="Direct link to GRPC_ADDR" title="Direct link to GRPC_ADDR" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_GRPC_ADDR</code></li>
<li class="">Default: <code>:9000</code></li>
</ul>
<p>Configures the gRPC listener port.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=grpc_secret>GRPC_SECRET<a href=#grpc_secret class=hash-link aria-label="Direct link to GRPC_SECRET" title="Direct link to GRPC_SECRET" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_GRPC_SECRET</code></li>
<li class="">Default: <code>secret</code></li>
</ul>
<p>Configures the gRPC JWT secret.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=grpc_secret_file>GRPC_SECRET_FILE<a href=#grpc_secret_file class=hash-link aria-label="Direct link to GRPC_SECRET_FILE" title="Direct link to GRPC_SECRET_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_GRPC_SECRET_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>Read the value for <code>WOODPECKER_GRPC_SECRET</code> from the specified filepath.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=metrics_server_addr>METRICS_SERVER_ADDR<a href=#metrics_server_addr class=hash-link aria-label="Direct link to METRICS_SERVER_ADDR" title="Direct link to METRICS_SERVER_ADDR" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_METRICS_SERVER_ADDR</code></li>
<li class="">Default: none</li>
</ul>
<p>Configures an unprotected metrics endpoint. An empty value disables the metrics endpoint completely.</p>
<p>Example: <code>:9001</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=admin>ADMIN<a href=#admin class=hash-link aria-label="Direct link to ADMIN" title="Direct link to ADMIN" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_ADMIN</code></li>
<li class="">Default: none</li>
</ul>
<p>Comma-separated list of admin accounts.</p>
<p>Example: <code>WOODPECKER_ADMIN=user1,user2</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=orgs>ORGS<a href=#orgs class=hash-link aria-label="Direct link to ORGS" title="Direct link to ORGS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_ORGS</code></li>
<li class="">Default: none</li>
</ul>
<p>Comma-separated list of approved organizations.</p>
<p>Example: <code>org1,org2</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=repo_owners>REPO_OWNERS<a href=#repo_owners class=hash-link aria-label="Direct link to REPO_OWNERS" title="Direct link to REPO_OWNERS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_REPO_OWNERS</code></li>
<li class="">Default: none</li>
</ul>
<p>Repositories by those owners will be allowed to be used in woodpecker.</p>
<p>Example: <code>user1,user2</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=open>OPEN<a href=#open class=hash-link aria-label="Direct link to OPEN" title="Direct link to OPEN" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_OPEN</code></li>
<li class="">Default: <code>false</code></li>
</ul>
<p>Enable to allow user registration.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=authenticate_public_repos>AUTHENTICATE_PUBLIC_REPOS<a href=#authenticate_public_repos class=hash-link aria-label="Direct link to AUTHENTICATE_PUBLIC_REPOS" title="Direct link to AUTHENTICATE_PUBLIC_REPOS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_AUTHENTICATE_PUBLIC_REPOS</code></li>
<li class="">Default: <code>false</code></li>
</ul>
<p>Always use authentication to clone repositories even if they are public. Needed if the forge requires to always authenticate as used by many companies.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_allow_pull_requests>DEFAULT_ALLOW_PULL_REQUESTS<a href=#default_allow_pull_requests class=hash-link aria-label="Direct link to DEFAULT_ALLOW_PULL_REQUESTS" title="Direct link to DEFAULT_ALLOW_PULL_REQUESTS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_ALLOW_PULL_REQUESTS</code></li>
<li class="">Default: <code>true</code></li>
</ul>
<p>The default setting for allowing pull requests on a repo.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_approval_mode>DEFAULT_APPROVAL_MODE<a href=#default_approval_mode class=hash-link aria-label="Direct link to DEFAULT_APPROVAL_MODE" title="Direct link to DEFAULT_APPROVAL_MODE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_APPROVAL_MODE</code></li>
<li class="">Default: <code>forks</code></li>
</ul>
<p>The default setting for the approval mode on a repo. Possible values: <code>none</code>, <code>forks</code>, <code>pull_requests</code> or <code>all_events</code>.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_cancel_previous_pipeline_events>DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS<a href=#default_cancel_previous_pipeline_events class=hash-link aria-label="Direct link to DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS" title="Direct link to DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS</code></li>
<li class="">Default: <code>pull_request, push</code></li>
</ul>
<p>List of event names that will be canceled when a new pipeline for the same context (tag, branch) is created.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_clone_plugin>DEFAULT_CLONE_PLUGIN<a href=#default_clone_plugin class=hash-link aria-label="Direct link to DEFAULT_CLONE_PLUGIN" title="Direct link to DEFAULT_CLONE_PLUGIN" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_CLONE_PLUGIN</code></li>
<li class="">Default: <code>docker.io/woodpeckerci/plugin-git</code></li>
</ul>
<p>The default docker image to be used when cloning the repo.</p>
<p>It is also added to the trusted clone plugin list.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_workflow_labels>DEFAULT_WORKFLOW_LABELS<a href=#default_workflow_labels class=hash-link aria-label="Direct link to DEFAULT_WORKFLOW_LABELS" title="Direct link to DEFAULT_WORKFLOW_LABELS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_WORKFLOW_LABELS</code></li>
<li class="">Default: none</li>
</ul>
<p>You can specify default label/platform conditions that will be used for agent selection for workflows that does not have labels conditions set.</p>
<p>Example: <code>platform=linux/amd64,backend=docker</code></p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=default_pipeline_timeout>DEFAULT_PIPELINE_TIMEOUT<a href=#default_pipeline_timeout class=hash-link aria-label="Direct link to DEFAULT_PIPELINE_TIMEOUT" title="Direct link to DEFAULT_PIPELINE_TIMEOUT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DEFAULT_PIPELINE_TIMEOUT</code></li>
<li class="">Default: 60</li>
</ul>
<p>The default time for a repo in minutes before a pipeline gets killed</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=max_pipeline_timeout>MAX_PIPELINE_TIMEOUT<a href=#max_pipeline_timeout class=hash-link aria-label="Direct link to MAX_PIPELINE_TIMEOUT" title="Direct link to MAX_PIPELINE_TIMEOUT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_MAX_PIPELINE_TIMEOUT</code></li>
<li class="">Default: 120</li>
</ul>
<p>The maximum time in minutes you can set in the repo settings before a pipeline gets killed</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=session_expires>SESSION_EXPIRES<a href=#session_expires class=hash-link aria-label="Direct link to SESSION_EXPIRES" title="Direct link to SESSION_EXPIRES" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_SESSION_EXPIRES</code></li>
<li class="">Default: <code>72h</code></li>
</ul>
<p>Configures the session expiration time.
Context: when someone does log into Woodpecker, a temporary session token is created.
As long as the session is valid (until it expires or log-out),
a user can log into Woodpecker, without re-authentication.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=plugins_privileged>PLUGINS_PRIVILEGED<a href=#plugins_privileged class=hash-link aria-label="Direct link to PLUGINS_PRIVILEGED" title="Direct link to PLUGINS_PRIVILEGED" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_PLUGINS_PRIVILEGED</code></li>
<li class="">Default: none</li>
</ul>
<p>Docker images to run in privileged mode. Only change if you are sure what you do!</p>
<p>You should specify the tag of your images too, as this enforces exact matches.</p>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=plugins_trusted_clone>PLUGINS_TRUSTED_CLONE<a href=#plugins_trusted_clone class=hash-link aria-label="Direct link to PLUGINS_TRUSTED_CLONE" title="Direct link to PLUGINS_TRUSTED_CLONE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_PLUGINS_TRUSTED_CLONE</code></li>
<li class="">Default: <code>docker.io/woodpeckerci/plugin-git,docker.io/woodpeckerci/plugin-git,quay.io/woodpeckerci/plugin-git</code></li>
</ul>
<p>Plugins which are trusted to handle the Git credential info in clone steps.
If a clone step use an image not in this list, Git credentials will not be injected and users have to use other methods (e.g. secrets) to clone non-public repos.</p>
<p>You should specify the tag of your images too, as this enforces exact matches.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=docker_config>DOCKER_CONFIG<a href=#docker_config class=hash-link aria-label="Direct link to DOCKER_CONFIG" title="Direct link to DOCKER_CONFIG" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DOCKER_CONFIG</code></li>
<li class="">Default: none</li>
</ul>
<p>Configures a specific private registry config for all pipelines.</p>
<p>Example: <code>WOODPECKER_DOCKER_CONFIG=/home/user/.docker/config.json</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=environment>ENVIRONMENT<a href=#environment class=hash-link aria-label="Direct link to ENVIRONMENT" title="Direct link to ENVIRONMENT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_ENVIRONMENT</code></li>
<li class="">Default: none</li>
</ul>
<p>If you want specific environment variables to be available in all of your pipelines use the <code>WOODPECKER_ENVIRONMENT</code> setting on the Woodpecker server. Note that these can't overwrite any existing, built-in variables.</p>
<p>Example: <code>WOODPECKER_ENVIRONMENT=first_var:value1,second_var:value2</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=agent_secret>AGENT_SECRET<a href=#agent_secret class=hash-link aria-label="Direct link to AGENT_SECRET" title="Direct link to AGENT_SECRET" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_AGENT_SECRET</code></li>
<li class="">Default: none</li>
</ul>
<p>A shared secret used by server and agents to authenticate communication. A secret can be generated by <code>openssl rand -hex 32</code>.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=agent_secret_file>AGENT_SECRET_FILE<a href=#agent_secret_file class=hash-link aria-label="Direct link to AGENT_SECRET_FILE" title="Direct link to AGENT_SECRET_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_AGENT_SECRET_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>Read the value for <code>WOODPECKER_AGENT_SECRET</code> from the specified filepath</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=disable_user_agent_registration>DISABLE_USER_AGENT_REGISTRATION<a href=#disable_user_agent_registration class=hash-link aria-label="Direct link to DISABLE_USER_AGENT_REGISTRATION" title="Direct link to DISABLE_USER_AGENT_REGISTRATION" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DISABLE_USER_AGENT_REGISTRATION</code></li>
<li class="">Default: false</li>
</ul>
<p>By default, users can create new agents for their repos they have admin access to.
If an instance admin doesn't want this feature enabled, they can disable the API and hide the Web UI elements.</p>
<div class="theme-admonition theme-admonition-note admonition_WO13 alert alert--secondary"><div class=admonitionHeading_tqcs><span class=admonitionIcon_mwEg><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_Pdna><p>You should set this option if you have, for example,
global secrets and don't trust your users to create a rogue agent and pipeline for secret extraction.</div></div>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=keepalive_min_time>KEEPALIVE_MIN_TIME<a href=#keepalive_min_time class=hash-link aria-label="Direct link to KEEPALIVE_MIN_TIME" title="Direct link to KEEPALIVE_MIN_TIME" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_KEEPALIVE_MIN_TIME</code></li>
<li class="">Default: none</li>
</ul>
<p>Server-side enforcement policy on the minimum amount of time a client should wait before sending a keepalive ping.</p>
<p>Example: <code>WOODPECKER_KEEPALIVE_MIN_TIME=10s</code></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_driver>DATABASE_DRIVER<a href=#database_driver class=hash-link aria-label="Direct link to DATABASE_DRIVER" title="Direct link to DATABASE_DRIVER" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_DRIVER</code></li>
<li class="">Default: <code>sqlite3</code></li>
</ul>
<p>The database driver name. Possible values are <code>sqlite3</code>, <code>mysql</code> or <code>postgres</code>.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_datasource>DATABASE_DATASOURCE<a href=#database_datasource class=hash-link aria-label="Direct link to DATABASE_DATASOURCE" title="Direct link to DATABASE_DATASOURCE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_DATASOURCE</code></li>
<li class="">Default: <code>woodpecker.sqlite</code> if not running inside a container, <code>/var/lib/woodpecker/woodpecker.sqlite</code> if running inside a container</li>
</ul>
<p>The database connection string. The default value is the path of the embedded SQLite database file.</p>
<p>Example:</p>
<div class="language-bash codeBlockContainer_BLd8 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_EiVR><pre tabindex=0 class="prism-code language-bash codeBlock_EMHl thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FEkq><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># MySQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># https://github.com/go-sql-driver/mysql#dsn-data-source-name</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token assign-left variable" style=color:#36acaa>WOODPECKER_DATABASE_DATASOURCE</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">root:password@tcp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1.2</span><span class="token plain">.3.4:3306</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">/woodpecker?parseTime</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># PostgreSQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token assign-left variable" style=color:#36acaa>WOODPECKER_DATABASE_DATASOURCE</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">postgres://root:password@1.2.3.4:5432/woodpecker?sslmode</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">disable</span><br/></span></code></pre></div></div>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=database_datasource_file>DATABASE_DATASOURCE_FILE<a href=#database_datasource_file class=hash-link aria-label="Direct link to DATABASE_DATASOURCE_FILE" title="Direct link to DATABASE_DATASOURCE_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DATABASE_DATASOURCE_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>Read the value for <code>WOODPECKER_DATABASE_DATASOURCE</code> from the specified filepath</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=prometheus_auth_token>PROMETHEUS_AUTH_TOKEN<a href=#prometheus_auth_token class=hash-link aria-label="Direct link to PROMETHEUS_AUTH_TOKEN" title="Direct link to PROMETHEUS_AUTH_TOKEN" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code></li>
<li class="">Default: none</li>
</ul>
<p>Token to secure the Prometheus metrics endpoint.
Must be set to enable the endpoint.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=prometheus_auth_token_file>PROMETHEUS_AUTH_TOKEN_FILE<a href=#prometheus_auth_token_file class=hash-link aria-label="Direct link to PROMETHEUS_AUTH_TOKEN_FILE" title="Direct link to PROMETHEUS_AUTH_TOKEN_FILE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_PROMETHEUS_AUTH_TOKEN_FILE</code></li>
<li class="">Default: none</li>
</ul>
<p>Read the value for <code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code> from the specified filepath</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=status_context>STATUS_CONTEXT<a href=#status_context class=hash-link aria-label="Direct link to STATUS_CONTEXT" title="Direct link to STATUS_CONTEXT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_STATUS_CONTEXT</code></li>
<li class="">Default: <code>ci/woodpecker</code></li>
</ul>
<p>Context prefix Woodpecker will use to publish status messages to SCM. You probably will only need to change it if you run multiple Woodpecker instances for a single repository.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=status_context_format>STATUS_CONTEXT_FORMAT<a href=#status_context_format class=hash-link aria-label="Direct link to STATUS_CONTEXT_FORMAT" title="Direct link to STATUS_CONTEXT_FORMAT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_STATUS_CONTEXT_FORMAT</code></li>
<li class="">Default: <code>{{ .context }}/{{ .event }}/{{ .workflow }}{{if not (eq .axis_id 0)}}/{{.axis_id}}{{end}}</code></li>
</ul>
<p>Template for the status messages published to forges, uses <a href=https://pkg.go.dev/text/template target=_blank rel="noopener noreferrer" class="">Go templates</a> as template language.
Supported variables:</p>
<ul>
<li class=""><code>context</code>: Woodpecker's context (see <code>WOODPECKER_STATUS_CONTEXT</code>)</li>
<li class=""><code>event</code>: the event which started the pipeline</li>
<li class=""><code>workflow</code>: the workflow's name</li>
<li class=""><code>owner</code>: the repo's owner</li>
<li class=""><code>repo</code>: the repo's name</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=config_service_endpoint>CONFIG_SERVICE_ENDPOINT<a href=#config_service_endpoint class=hash-link aria-label="Direct link to CONFIG_SERVICE_ENDPOINT" title="Direct link to CONFIG_SERVICE_ENDPOINT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_CONFIG_SERVICE_ENDPOINT</code></li>
<li class="">Default: none</li>
</ul>
<p>Specify a configuration service endpoint, see <a href=#external-configuration-api class="">Configuration Extension</a></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=extensions_allowed_hosts>EXTENSIONS_ALLOWED_HOSTS<a href=#extensions_allowed_hosts class=hash-link aria-label="Direct link to EXTENSIONS_ALLOWED_HOSTS" title="Direct link to EXTENSIONS_ALLOWED_HOSTS" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_EXTENSIONS_ALLOWED_HOSTS</code></li>
<li class="">Default: <code>external</code></li>
</ul>
<p>Comma-separated list of hosts that are allowed to be contacted by extensions. Possible values are <code>loopback</code>, <code>private</code>, <code>external</code>, <code>*</code> or CIDR list.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=forge_timeout>FORGE_TIMEOUT<a href=#forge_timeout class=hash-link aria-label="Direct link to FORGE_TIMEOUT" title="Direct link to FORGE_TIMEOUT" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_FORGE_TIMEOUT</code></li>
<li class="">Default: 5s</li>
</ul>
<p>Specify timeout when fetching the Woodpecker configuration from forge. See <a href=https://pkg.go.dev/time#ParseDuration target=_blank rel="noopener noreferrer" class="">https://pkg.go.dev/time#ParseDuration</a> for syntax reference.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=forge_retry>FORGE_RETRY<a href=#forge_retry class=hash-link aria-label="Direct link to FORGE_RETRY" title="Direct link to FORGE_RETRY" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_FORGE_RETRY</code></li>
<li class="">Default: 3</li>
</ul>
<p>Specify how many retries of fetching the Woodpecker configuration from a forge are done before we fail.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=enable_swagger>ENABLE_SWAGGER<a href=#enable_swagger class=hash-link aria-label="Direct link to ENABLE_SWAGGER" title="Direct link to ENABLE_SWAGGER" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_ENABLE_SWAGGER</code></li>
<li class="">Default: true</li>
</ul>
<p>Enable the Swagger UI for API documentation.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=disable_version_check>DISABLE_VERSION_CHECK<a href=#disable_version_check class=hash-link aria-label="Direct link to DISABLE_VERSION_CHECK" title="Direct link to DISABLE_VERSION_CHECK" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_DISABLE_VERSION_CHECK</code></li>
<li class="">Default: false</li>
</ul>
<p>Disable version check in admin web UI.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=log_store>LOG_STORE<a href=#log_store class=hash-link aria-label="Direct link to LOG_STORE" title="Direct link to LOG_STORE" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_LOG_STORE</code></li>
<li class="">Default: <code>database</code></li>
</ul>
<p>Where to store logs. Possible values:</p>
<ul>
<li class=""><code>database</code>: stores the logs in the database</li>
<li class=""><code>file</code>: stores logs in JSON files on the files system</li>
<li class=""><code>addon</code>: uses an <a class="" href=/docs/administration/configuration/addons#log>addon</a> to store logs</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=log_store_file_path>LOG_STORE_FILE_PATH<a href=#log_store_file_path class=hash-link aria-label="Direct link to LOG_STORE_FILE_PATH" title="Direct link to LOG_STORE_FILE_PATH" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_LOG_STORE_FILE_PATH</code></li>
<li class="">Default: none</li>
</ul>
<p>If <a href=#log_store class=""><code>WOODPECKER_LOG_STORE</code></a> is:</p>
<ul>
<li class=""><code>file</code>: Directory to store logs in</li>
<li class=""><code>addon</code>: The path to the addon executable</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=expert_webhook_host>EXPERT_WEBHOOK_HOST<a href=#expert_webhook_host class=hash-link aria-label="Direct link to EXPERT_WEBHOOK_HOST" title="Direct link to EXPERT_WEBHOOK_HOST" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_EXPERT_WEBHOOK_HOST</code></li>
<li class="">Default: none</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_WO13 alert alert--warning"><div class=admonitionHeading_tqcs><span class=admonitionIcon_mwEg><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Pdna><p>This option is not required in most cases and should only be used if you know what you're doing.</div></div>
<p>Fully qualified Woodpecker server URL, called by the webhooks of the forge. Format: <code>&lt;scheme>://&lt;host>[/&lt;prefix path>]</code>.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=expert_forge_oauth_host>EXPERT_FORGE_OAUTH_HOST<a href=#expert_forge_oauth_host class=hash-link aria-label="Direct link to EXPERT_FORGE_OAUTH_HOST" title="Direct link to EXPERT_FORGE_OAUTH_HOST" translate=no>‚Äã</a></h3>
<ul>
<li class="">Name: <code>WOODPECKER_EXPERT_FORGE_OAUTH_HOST</code></li>
<li class="">Default: none</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_WO13 alert alert--warning"><div class=admonitionHeading_tqcs><span class=admonitionIcon_mwEg><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Pdna><p>This option is not required in most cases and should only be used if you know what you're doing.</div></div>
<p>Fully qualified public forge URL, used if forge url is not a public URL. Format: <code>&lt;scheme>://&lt;host>[/&lt;prefix path>]</code>.</p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=github_>GITHUB_*<a href=#github_ class=hash-link aria-label="Direct link to GITHUB_*" title="Direct link to GITHUB_*" translate=no>‚Äã</a></h3>
<p>See <a class="" href=/docs/administration/configuration/forges/github#configuration>GitHub configuration</a></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=gitea_>GITEA_*<a href=#gitea_ class=hash-link aria-label="Direct link to GITEA_*" title="Direct link to GITEA_*" translate=no>‚Äã</a></h3>
<p>See <a class="" href=/docs/administration/configuration/forges/gitea#configuration>Gitea configuration</a></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=bitbucket_>BITBUCKET_*<a href=#bitbucket_ class=hash-link aria-label="Direct link to BITBUCKET_*" title="Direct link to BITBUCKET_*" translate=no>‚Äã</a></h3>
<p>See <a class="" href=/docs/administration/configuration/forges/bitbucket#configuration>Bitbucket configuration</a></p>
<hr/>
<h3 class="anchor anchorTargetStickyNavbar_q3H0" id=gitlab_>GITLAB_*<a href=#gitlab_ class=hash-link aria-label="Direct link to GITLAB_*" title="Direct link to GITLAB_*" translate=no>‚Äã</a></h3>
<p>See <a class="" href=/docs/administration/configuration/forges/gitlab#configuration>GitLab configuration</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_xlku"><a href=https://github.com/woodpecker-ci/woodpecker/edit/main/docs/versioned_docs/version-3.12/30-administration/10-configuration/10-server.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_kZ1I aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_PevI"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/administration/installation/packages><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Distribution packages</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/administration/configuration/backends/docker><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Docker</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents__FGV thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#forge-and-user-configuration class="table-of-contents__link toc-highlight">Forge and User configuration</a><li><a href=#repository-configuration class="table-of-contents__link toc-highlight">Repository configuration</a><li><a href=#databases class="table-of-contents__link toc-highlight">Databases</a><ul><li><a href=#sqlite class="table-of-contents__link toc-highlight">SQLite</a><li><a href=#mysqlmariadb class="table-of-contents__link toc-highlight">MySQL/MariaDB</a><li><a href=#postgresql class="table-of-contents__link toc-highlight">PostgreSQL</a></ul><li><a href=#tls class="table-of-contents__link toc-highlight">TLS</a><ul><li><a href=#container-configuration class="table-of-contents__link toc-highlight">Container configuration</a></ul><li><a href=#reverse-proxy class="table-of-contents__link toc-highlight">Reverse Proxy</a><ul><li><a href=#apache class="table-of-contents__link toc-highlight">Apache</a><li><a href=#nginx class="table-of-contents__link toc-highlight">Nginx</a><li><a href=#caddy class="table-of-contents__link toc-highlight">Caddy</a><li><a href=#tunnelmole class="table-of-contents__link toc-highlight">Tunnelmole</a><li><a href=#ngrok class="table-of-contents__link toc-highlight">Ngrok</a><li><a href=#traefik class="table-of-contents__link toc-highlight">Traefik</a></ul><li><a href=#metrics class="table-of-contents__link toc-highlight">Metrics</a><ul><li><a href=#endpoint class="table-of-contents__link toc-highlight">Endpoint</a><li><a href=#authorization class="table-of-contents__link toc-highlight">Authorization</a><li><a href=#reference class="table-of-contents__link toc-highlight">Reference</a></ul><li><a href=#external-configuration-api class="table-of-contents__link toc-highlight">External Configuration API</a><ul><li><a href=#configuration class="table-of-contents__link toc-highlight">Configuration</a></ul><li><a href=#ui-customization class="table-of-contents__link toc-highlight">UI customization</a><li><a href=#environment-variables class="table-of-contents__link toc-highlight">Environment variables</a><ul><li><a href=#log_level class="table-of-contents__link toc-highlight">LOG_LEVEL</a><li><a href=#log_file class="table-of-contents__link toc-highlight">LOG_FILE</a><li><a href=#database_log class="table-of-contents__link toc-highlight">DATABASE_LOG</a><li><a href=#database_log_sql class="table-of-contents__link toc-highlight">DATABASE_LOG_SQL</a><li><a href=#database_max_connections class="table-of-contents__link toc-highlight">DATABASE_MAX_CONNECTIONS</a><li><a href=#database_idle_connections class="table-of-contents__link toc-highlight">DATABASE_IDLE_CONNECTIONS</a><li><a href=#database_connection_timeout class="table-of-contents__link toc-highlight">DATABASE_CONNECTION_TIMEOUT</a><li><a href=#debug_pretty class="table-of-contents__link toc-highlight">DEBUG_PRETTY</a><li><a href=#debug_nocolor class="table-of-contents__link toc-highlight">DEBUG_NOCOLOR</a><li><a href=#host class="table-of-contents__link toc-highlight">HOST</a><li><a href=#server_addr class="table-of-contents__link toc-highlight">SERVER_ADDR</a><li><a href=#server_addr_tls class="table-of-contents__link toc-highlight">SERVER_ADDR_TLS</a><li><a href=#server_cert class="table-of-contents__link toc-highlight">SERVER_CERT</a><li><a href=#server_key class="table-of-contents__link toc-highlight">SERVER_KEY</a><li><a href=#custom_css_file class="table-of-contents__link toc-highlight">CUSTOM_CSS_FILE</a><li><a href=#custom_js_file class="table-of-contents__link toc-highlight">CUSTOM_JS_FILE</a><li><a href=#grpc_addr class="table-of-contents__link toc-highlight">GRPC_ADDR</a><li><a href=#grpc_secret class="table-of-contents__link toc-highlight">GRPC_SECRET</a><li><a href=#grpc_secret_file class="table-of-contents__link toc-highlight">GRPC_SECRET_FILE</a><li><a href=#metrics_server_addr class="table-of-contents__link toc-highlight">METRICS_SERVER_ADDR</a><li><a href=#admin class="table-of-contents__link toc-highlight">ADMIN</a><li><a href=#orgs class="table-of-contents__link toc-highlight">ORGS</a><li><a href=#repo_owners class="table-of-contents__link toc-highlight">REPO_OWNERS</a><li><a href=#open class="table-of-contents__link toc-highlight">OPEN</a><li><a href=#authenticate_public_repos class="table-of-contents__link toc-highlight">AUTHENTICATE_PUBLIC_REPOS</a><li><a href=#default_allow_pull_requests class="table-of-contents__link toc-highlight">DEFAULT_ALLOW_PULL_REQUESTS</a><li><a href=#default_approval_mode class="table-of-contents__link toc-highlight">DEFAULT_APPROVAL_MODE</a><li><a href=#default_cancel_previous_pipeline_events class="table-of-contents__link toc-highlight">DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS</a><li><a href=#default_clone_plugin class="table-of-contents__link toc-highlight">DEFAULT_CLONE_PLUGIN</a><li><a href=#default_workflow_labels class="table-of-contents__link toc-highlight">DEFAULT_WORKFLOW_LABELS</a><li><a href=#default_pipeline_timeout class="table-of-contents__link toc-highlight">DEFAULT_PIPELINE_TIMEOUT</a><li><a href=#max_pipeline_timeout class="table-of-contents__link toc-highlight">MAX_PIPELINE_TIMEOUT</a><li><a href=#session_expires class="table-of-contents__link toc-highlight">SESSION_EXPIRES</a><li><a href=#plugins_privileged class="table-of-contents__link toc-highlight">PLUGINS_PRIVILEGED</a><li><a href=#plugins_trusted_clone class="table-of-contents__link toc-highlight">PLUGINS_TRUSTED_CLONE</a><li><a href=#docker_config class="table-of-contents__link toc-highlight">DOCKER_CONFIG</a><li><a href=#environment class="table-of-contents__link toc-highlight">ENVIRONMENT</a><li><a href=#agent_secret class="table-of-contents__link toc-highlight">AGENT_SECRET</a><li><a href=#agent_secret_file class="table-of-contents__link toc-highlight">AGENT_SECRET_FILE</a><li><a href=#disable_user_agent_registration class="table-of-contents__link toc-highlight">DISABLE_USER_AGENT_REGISTRATION</a><li><a href=#keepalive_min_time class="table-of-contents__link toc-highlight">KEEPALIVE_MIN_TIME</a><li><a href=#database_driver class="table-of-contents__link toc-highlight">DATABASE_DRIVER</a><li><a href=#database_datasource class="table-of-contents__link toc-highlight">DATABASE_DATASOURCE</a><li><a href=#database_datasource_file class="table-of-contents__link toc-highlight">DATABASE_DATASOURCE_FILE</a><li><a href=#prometheus_auth_token class="table-of-contents__link toc-highlight">PROMETHEUS_AUTH_TOKEN</a><li><a href=#prometheus_auth_token_file class="table-of-contents__link toc-highlight">PROMETHEUS_AUTH_TOKEN_FILE</a><li><a href=#status_context class="table-of-contents__link toc-highlight">STATUS_CONTEXT</a><li><a href=#status_context_format class="table-of-contents__link toc-highlight">STATUS_CONTEXT_FORMAT</a><li><a href=#config_service_endpoint class="table-of-contents__link toc-highlight">CONFIG_SERVICE_ENDPOINT</a><li><a href=#extensions_allowed_hosts class="table-of-contents__link toc-highlight">EXTENSIONS_ALLOWED_HOSTS</a><li><a href=#forge_timeout class="table-of-contents__link toc-highlight">FORGE_TIMEOUT</a><li><a href=#forge_retry class="table-of-contents__link toc-highlight">FORGE_RETRY</a><li><a href=#enable_swagger class="table-of-contents__link toc-highlight">ENABLE_SWAGGER</a><li><a href=#disable_version_check class="table-of-contents__link toc-highlight">DISABLE_VERSION_CHECK</a><li><a href=#log_store class="table-of-contents__link toc-highlight">LOG_STORE</a><li><a href=#log_store_file_path class="table-of-contents__link toc-highlight">LOG_STORE_FILE_PATH</a><li><a href=#expert_webhook_host class="table-of-contents__link toc-highlight">EXPERT_WEBHOOK_HOST</a><li><a href=#expert_forge_oauth_host class="table-of-contents__link toc-highlight">EXPERT_FORGE_OAUTH_HOST</a><li><a href=#github_ class="table-of-contents__link toc-highlight">GITHUB_*</a><li><a href=#gitea_ class="table-of-contents__link toc-highlight">GITEA_*</a><li><a href=#bitbucket_ class="table-of-contents__link toc-highlight">BITBUCKET_*</a><li><a href=#gitlab_ class="table-of-contents__link toc-highlight">GITLAB_*</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/intro>Welcome to Woodpecker</a><li class=footer__item><a class=footer__link-item href=/docs/usage/intro>Usage</a><li class=footer__item><a class=footer__link-item href=/docs/administration/general>Administration</a><li class=footer__item><a class=footer__link-item activebaseregex=migrations href=/migrations>Migrations</a><li class=footer__item><a class=footer__link-item activebaseregex=awesome href=/awesome>Awesome</a><li class=footer__item><a class=footer__link-item href=/api>API</a><li class=footer__item><a class=footer__link-item href=/about>About</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://matrix.to/#/#woodpecker:matrix.org target=_blank rel="noopener noreferrer" class=footer__link-item>Matrix<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://floss.social/@WoodpeckerCI target=_blank rel="noopener noreferrer" class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://bsky.app/profile/woodpecker-ci.org target=_blank rel="noopener noreferrer" class=footer__link-item>Bluesky<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://translate.woodpecker-ci.org/engage/woodpecker-ci/ target=_blank rel="noopener noreferrer" class=footer__link-item>Translate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/woodpecker-ci/woodpecker target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://ci.woodpecker-ci.org/repos/3780 target=_blank rel="noopener noreferrer" class=footer__link-item>CI<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opencollective.com/woodpecker-ci target=_blank rel="noopener noreferrer" class=footer__link-item>Open Collective<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_aZTQ><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright ¬© 2026 Woodpecker Authors. Built with Docusaurus.</div></div></div></footer></div></body>