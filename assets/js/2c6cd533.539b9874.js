"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["6441"],{9515:function(e,n,o){o.r(n),o.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>r,assets:()=>t,toc:()=>l,contentTitle:()=>d});var r=JSON.parse('{"id":"administration/configuration/server","title":"Server","description":"Forge and User configuration","source":"@site/versioned_docs/version-3.3/30-administration/10-configuration/10-server.md","sourceDirName":"30-administration/10-configuration","slug":"/administration/configuration/server","permalink":"/docs/3.3/administration/configuration/server","draft":false,"unlisted":false,"editUrl":"https://github.com/woodpecker-ci/woodpecker/edit/main/docs/versioned_docs/version-3.3/30-administration/10-configuration/10-server.md","tags":[],"version":"3.3","sidebarPosition":10,"frontMatter":{"toc_max_heading_level":3},"sidebar":"tutorialSidebar","previous":{"title":"Distribution packages","permalink":"/docs/3.3/administration/installation/packages"},"next":{"title":"Docker","permalink":"/docs/3.3/administration/configuration/backends/docker"}}'),i=o("74132"),s=o("24924");let c={toc_max_heading_level:3},d="Server",t={},l=[{value:"Forge and User configuration",id:"forge-and-user-configuration",level:2},{value:"Repository configuration",id:"repository-configuration",level:2},{value:"Databases",id:"databases",level:2},{value:"SQLite",id:"sqlite",level:3},{value:"MySQL/MariaDB",id:"mysqlmariadb",level:3},{value:"PostgreSQL",id:"postgresql",level:3},{value:"TLS",id:"tls",level:2},{value:"Container configuration",id:"container-configuration",level:3},{value:"Reverse Proxy",id:"reverse-proxy",level:2},{value:"Apache",id:"apache",level:3},{value:"Nginx",id:"nginx",level:3},{value:"Caddy",id:"caddy",level:3},{value:"Tunnelmole",id:"tunnelmole",level:3},{value:"Ngrok",id:"ngrok",level:3},{value:"Traefik",id:"traefik",level:3},{value:"Metrics",id:"metrics",level:2},{value:"Endpoint",id:"endpoint",level:3},{value:"Authorization",id:"authorization",level:3},{value:"Reference",id:"reference",level:3},{value:"External Configuration API",id:"external-configuration-api",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Example request made by Woodpecker",id:"example-request-made-by-woodpecker",level:4},{value:"Example response structure",id:"example-response-structure",level:4},{value:"UI customization",id:"ui-customization",level:2},{value:"Environment variables",id:"environment-variables",level:2},{value:"<code>WOODPECKER_LOG_LEVEL</code>",id:"woodpecker_log_level",level:3},{value:"<code>WOODPECKER_LOG_FILE</code>",id:"woodpecker_log_file",level:3},{value:"<code>WOODPECKER_DATABASE_LOG</code>",id:"woodpecker_database_log",level:3},{value:"<code>WOODPECKER_DATABASE_LOG_SQL</code>",id:"woodpecker_database_log_sql",level:3},{value:"<code>WOODPECKER_DATABASE_MAX_CONNECTIONS</code>",id:"woodpecker_database_max_connections",level:3},{value:"<code>WOODPECKER_DATABASE_IDLE_CONNECTIONS</code>",id:"woodpecker_database_idle_connections",level:3},{value:"<code>WOODPECKER_DATABASE_CONNECTION_TIMEOUT</code>",id:"woodpecker_database_connection_timeout",level:3},{value:"<code>WOODPECKER_DEBUG_PRETTY</code>",id:"woodpecker_debug_pretty",level:3},{value:"<code>WOODPECKER_DEBUG_NOCOLOR</code>",id:"woodpecker_debug_nocolor",level:3},{value:"<code>WOODPECKER_HOST</code>",id:"woodpecker_host",level:3},{value:"<code>WOODPECKER_SERVER_ADDR</code>",id:"woodpecker_server_addr",level:3},{value:"<code>WOODPECKER_SERVER_ADDR_TLS</code>",id:"woodpecker_server_addr_tls",level:3},{value:"<code>WOODPECKER_SERVER_CERT</code>",id:"woodpecker_server_cert",level:3},{value:"<code>WOODPECKER_SERVER_KEY</code>",id:"woodpecker_server_key",level:3},{value:"<code>WOODPECKER_CUSTOM_CSS_FILE</code>",id:"woodpecker_custom_css_file",level:3},{value:"<code>WOODPECKER_CUSTOM_JS_FILE</code>",id:"woodpecker_custom_js_file",level:3},{value:"<code>WOODPECKER_GRPC_ADDR</code>",id:"woodpecker_grpc_addr",level:3},{value:"<code>WOODPECKER_GRPC_SECRET</code>",id:"woodpecker_grpc_secret",level:3},{value:"<code>WOODPECKER_GRPC_SECRET_FILE</code>",id:"woodpecker_grpc_secret_file",level:3},{value:"<code>WOODPECKER_METRICS_SERVER_ADDR</code>",id:"woodpecker_metrics_server_addr",level:3},{value:"<code>WOODPECKER_ADMIN</code>",id:"woodpecker_admin",level:3},{value:"<code>WOODPECKER_ORGS</code>",id:"woodpecker_orgs",level:3},{value:"<code>WOODPECKER_REPO_OWNERS</code>",id:"woodpecker_repo_owners",level:3},{value:"<code>WOODPECKER_OPEN</code>",id:"woodpecker_open",level:3},{value:"<code>WOODPECKER_AUTHENTICATE_PUBLIC_REPOS</code>",id:"woodpecker_authenticate_public_repos",level:3},{value:"<code>WOODPECKER_DEFAULT_ALLOW_PULL_REQUESTS</code>",id:"woodpecker_default_allow_pull_requests",level:3},{value:"<code>WOODPECKER_DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS</code>",id:"woodpecker_default_cancel_previous_pipeline_events",level:3},{value:"<code>WOODPECKER_DEFAULT_CLONE_PLUGIN</code>",id:"woodpecker_default_clone_plugin",level:3},{value:"<code>WOODPECKER_DEFAULT_WORKFLOW_LABELS</code>",id:"woodpecker_default_workflow_labels",level:3},{value:"<code>WOODPECKER_DEFAULT_PIPELINE_TIMEOUT</code>",id:"woodpecker_default_pipeline_timeout",level:3},{value:"<code>WOODPECKER_MAX_PIPELINE_TIMEOUT</code>",id:"woodpecker_max_pipeline_timeout",level:3},{value:"<code>WOODPECKER_SESSION_EXPIRES</code>",id:"woodpecker_session_expires",level:3},{value:"<code>WOODPECKER_PLUGINS_PRIVILEGED</code>",id:"woodpecker_plugins_privileged",level:3},{value:"WOODPECKER_PLUGINS_TRUSTED_CLONE",id:"woodpecker_plugins_trusted_clone",level:3},{value:"<code>WOODPECKER_DOCKER_CONFIG</code>",id:"woodpecker_docker_config",level:3},{value:"<code>WOODPECKER_AGENT_SECRET</code>",id:"woodpecker_agent_secret",level:3},{value:"<code>WOODPECKER_AGENT_SECRET_FILE</code>",id:"woodpecker_agent_secret_file",level:3},{value:"<code>WOODPECKER_DISABLE_USER_AGENT_REGISTRATION</code>",id:"woodpecker_disable_user_agent_registration",level:3},{value:"<code>WOODPECKER_KEEPALIVE_MIN_TIME</code>",id:"woodpecker_keepalive_min_time",level:3},{value:"<code>WOODPECKER_DATABASE_DRIVER</code>",id:"woodpecker_database_driver",level:3},{value:"<code>WOODPECKER_DATABASE_DATASOURCE</code>",id:"woodpecker_database_datasource",level:3},{value:"<code>WOODPECKER_DATABASE_DATASOURCE_FILE</code>",id:"woodpecker_database_datasource_file",level:3},{value:"<code>WOODPECKER_PROMETHEUS_AUTH_TOKEN</code>",id:"woodpecker_prometheus_auth_token",level:3},{value:"<code>WOODPECKER_PROMETHEUS_AUTH_TOKEN_FILE</code>",id:"woodpecker_prometheus_auth_token_file",level:3},{value:"<code>WOODPECKER_STATUS_CONTEXT</code>",id:"woodpecker_status_context",level:3},{value:"<code>WOODPECKER_STATUS_CONTEXT_FORMAT</code>",id:"woodpecker_status_context_format",level:3},{value:"<code>WOODPECKER_CONFIG_SERVICE_ENDPOINT</code>",id:"woodpecker_config_service_endpoint",level:3},{value:"<code>WOODPECKER_FORGE_TIMEOUT</code>",id:"woodpecker_forge_timeout",level:3},{value:"<code>WOODPECKER_FORGE_RETRY</code>",id:"woodpecker_forge_retry",level:3},{value:"<code>WOODPECKER_ENABLE_SWAGGER</code>",id:"woodpecker_enable_swagger",level:3},{value:"<code>WOODPECKER_DISABLE_VERSION_CHECK</code>",id:"woodpecker_disable_version_check",level:3},{value:"<code>WOODPECKER_LOG_STORE</code>",id:"woodpecker_log_store",level:3},{value:"<code>WOODPECKER_LOG_STORE_FILE_PATH</code>",id:"woodpecker_log_store_file_path",level:3},{value:"<code>WOODPECKER_GITHUB_...</code>",id:"woodpecker_github_",level:3},{value:"<code>WOODPECKER_GITEA_...</code>",id:"woodpecker_gitea_",level:3},{value:"<code>WOODPECKER_BITBUCKET_...</code>",id:"woodpecker_bitbucket_",level:3},{value:"<code>WOODPECKER_GITLAB_...</code>",id:"woodpecker_gitlab_",level:3},{value:"<code>WOODPECKER_ADDON_FORGE</code>",id:"woodpecker_addon_forge",level:3}];function a(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"server",children:"Server"})}),"\n",(0,i.jsx)(n.h2,{id:"forge-and-user-configuration",children:"Forge and User configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Woodpecker does not have its own user registration. Users are provided by your ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/overview",children:"forge"})," (using OAuth2). The registration is closed by default (",(0,i.jsx)(n.code,{children:"WOODPECKER_OPEN=false"}),"). If the registration is open, any user with an account can log in to Woodpecker with the configured forge."]}),"\n",(0,i.jsx)(n.p,{children:"You can also restrict the registration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["closed registration and manually managing users with the CLI ",(0,i.jsx)(n.code,{children:"woodpecker-cli user"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["open registration and allowing certain admin users with the setting ",(0,i.jsx)(n.code,{children:"WOODPECKER_ADMIN"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_OPEN=false\nWOODPECKER_ADMIN=john.smith,jane_doe\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["open registration and filtering by organizational affiliation with the setting ",(0,i.jsx)(n.code,{children:"WOODPECKER_ORGS"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_OPEN=true\nWOODPECKER_ORGS=dolores,dog-patch\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Administrators should also be explicitly set in your configuration."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_ADMIN=john.smith,jane_doe\n"})}),"\n",(0,i.jsx)(n.h2,{id:"repository-configuration",children:"Repository configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Woodpecker works with the user's OAuth permissions on the forge. By default Woodpecker will synchronize all repositories the user has access to. Use the variable ",(0,i.jsx)(n.code,{children:"WOODPECKER_REPO_OWNERS"})," to filter which repos should only be synchronized by GitHub users. Normally you should enter the GitHub name of your company here."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_REPO_OWNERS=my_company,my_company_oss_github_user\n"})}),"\n",(0,i.jsx)(n.h2,{id:"databases",children:"Databases"}),"\n",(0,i.jsx)(n.p,{children:"The default database engine of Woodpecker is an embedded SQLite database which requires zero installation or configuration. But you can replace it with a MySQL/MariaDB or PostgreSQL database. There are also some fundamentals to keep in mind:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Woodpecker does not create your database automatically. If you are using the MySQL or Postgres driver you will need to manually create your database using ",(0,i.jsx)(n.code,{children:"CREATE DATABASE"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Woodpecker does not perform data archival; it considered out-of-scope for the project. Woodpecker is rather conservative with the amount of data it stores, however, you should expect the database logs to grow the size of your database considerably."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Woodpecker automatically handles database migration, including the initial creation of tables and indexes. New versions of Woodpecker will automatically upgrade the database unless otherwise specified in the release notes."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Woodpecker does not perform database backups. This should be handled by separate third party tools provided by your database vendor of choice."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sqlite",children:"SQLite"}),"\n",(0,i.jsxs)(n.p,{children:["By default Woodpecker uses a SQLite database stored under ",(0,i.jsx)(n.code,{children:"/var/lib/woodpecker/"}),". If using containers, you can mount a ",(0,i.jsx)(n.a,{href:"https://docs.docker.com/storage/volumes/#create-and-manage-volumes",children:"data volume"})," to persist the SQLite database."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",metastring:'title="docker-compose.yaml"',children:" services:\n   woodpecker-server:\n     [...]\n+    volumes:\n+      - woodpecker-server-data:/var/lib/woodpecker/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mysqlmariadb",children:"MySQL/MariaDB"}),"\n",(0,i.jsxs)(n.p,{children:["The below example demonstrates MySQL database configuration. See the official driver ",(0,i.jsx)(n.a,{href:"https://github.com/go-sql-driver/mysql#dsn-data-source-name",children:"documentation"})," for configuration options and examples.\nThe minimum version of MySQL/MariaDB required is determined by the ",(0,i.jsx)(n.code,{children:"go-sql-driver/mysql"})," - see ",(0,i.jsx)(n.a,{href:"https://github.com/go-sql-driver/mysql#requirements",children:"it's README"})," for more information."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_DATABASE_DRIVER=mysql\nWOODPECKER_DATABASE_DATASOURCE=root:password@tcp(1.2.3.4:3306)/woodpecker?parseTime=true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,i.jsxs)(n.p,{children:["The below example demonstrates Postgres database configuration. See the official driver ",(0,i.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING",children:"documentation"})," for configuration options and examples.\nPlease use Postgres versions equal or higher than ",(0,i.jsx)(n.strong,{children:"11"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_DATABASE_DRIVER=postgres\nWOODPECKER_DATABASE_DATASOURCE=postgres://root:password@1.2.3.4:5432/postgres?sslmode=disable\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tls",children:"TLS"}),"\n",(0,i.jsx)(n.p,{children:"Woodpecker supports SSL configuration by mounting certificates into your container."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_SERVER_CERT=/etc/certs/woodpecker.example.com/server.crt\nWOODPECKER_SERVER_KEY=/etc/certs/woodpecker.example.com/server.key\n"})}),"\n",(0,i.jsxs)(n.p,{children:["TLS support is provided using the ",(0,i.jsx)(n.a,{href:"https://golang.org/pkg/net/http/#ListenAndServeTLS",children:"ListenAndServeTLS"})," function from the Go standard library."]}),"\n",(0,i.jsx)(n.h3,{id:"container-configuration",children:"Container configuration"}),"\n",(0,i.jsxs)(n.p,{children:["In addition to the ports shown in the ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/installation/docker-compose",children:"docker-compose"})," installation, port ",(0,i.jsx)(n.code,{children:"443"})," must be exposed:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",metastring:'title="docker-compose.yaml"',children:" services:\n   woodpecker-server:\n     [...]\n     ports:\n+      - 80:80\n+      - 443:443\n       - 9000:9000\n"})}),"\n",(0,i.jsx)(n.p,{children:"Additionally, the certificate and key must be mounted and referenced:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",metastring:'title="docker-compose.yaml"',children:" services:\n   woodpecker-server:\n     [...]\n     environment:\n+      - WOODPECKER_SERVER_CERT=/etc/certs/woodpecker.example.com/server.crt\n+      - WOODPECKER_SERVER_KEY=/etc/certs/woodpecker.example.com/server.key\n     volumes:\n+      - /etc/certs/woodpecker.example.com/server.crt:/etc/certs/woodpecker.example.com/server.crt\n+      - /etc/certs/woodpecker.example.com/server.key:/etc/certs/woodpecker.example.com/server.key\n"})}),"\n",(0,i.jsx)(n.h2,{id:"reverse-proxy",children:"Reverse Proxy"}),"\n",(0,i.jsx)(n.h3,{id:"apache",children:"Apache"}),"\n",(0,i.jsx)(n.p,{children:"This guide provides a brief overview for installing Woodpecker server behind the Apache2 web-server. This is an example configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apacheconf",children:'ProxyPreserveHost On\n\nRequestHeader set X-Forwarded-Proto "https"\n\nProxyPass / http://127.0.0.1:8000/\nProxyPassReverse / http://127.0.0.1:8000/\n'})}),"\n",(0,i.jsx)(n.p,{children:"You must have these Apache modules installed:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"proxy"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"proxy_http"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You must configure Apache to set ",(0,i.jsx)(n.code,{children:"X-Forwarded-Proto"})," when using https."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:' ProxyPreserveHost On\n\n+RequestHeader set X-Forwarded-Proto "https"\n\n ProxyPass / http://127.0.0.1:8000/\n ProxyPassReverse / http://127.0.0.1:8000/\n'})}),"\n",(0,i.jsx)(n.h3,{id:"nginx",children:"Nginx"}),"\n",(0,i.jsxs)(n.p,{children:["This guide provides a basic overview for installing Woodpecker server behind the Nginx web-server. For more advanced configuration options please consult the official Nginx ",(0,i.jsx)(n.a,{href:"https://docs.nginx.com/nginx/admin-guide",children:"documentation"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Example configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 80;\n    server_name woodpecker.example.com;\n\n    location / {\n        proxy_set_header X-Forwarded-For $remote_addr;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header Host $http_host;\n\n        proxy_pass http://127.0.0.1:8000;\n        proxy_redirect off;\n        proxy_http_version 1.1;\n        proxy_buffering off;\n\n        chunked_transfer_encoding off;\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You must configure the proxy to set ",(0,i.jsx)(n.code,{children:"X-Forwarded"})," proxy headers:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:" server {\n     listen 80;\n     server_name woodpecker.example.com;\n\n     location / {\n+        proxy_set_header X-Forwarded-For $remote_addr;\n+        proxy_set_header X-Forwarded-Proto $scheme;\n\n         proxy_pass http://127.0.0.1:8000;\n         proxy_redirect off;\n         proxy_http_version 1.1;\n         proxy_buffering off;\n\n         chunked_transfer_encoding off;\n     }\n }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"caddy",children:"Caddy"}),"\n",(0,i.jsxs)(n.p,{children:["This guide provides a brief overview for installing Woodpecker server behind the ",(0,i.jsx)(n.a,{href:"https://caddyserver.com/",children:"Caddy web-server"}),". This is an example caddyfile proxy configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-caddy",children:"# expose WebUI and API\nwoodpecker.example.com {\n  reverse_proxy woodpecker-server:8000\n}\n\n# expose gRPC\nwoodpecker-agent.example.com {\n  reverse_proxy h2c://woodpecker-server:9000\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"tunnelmole",children:"Tunnelmole"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/robbie-cahill/tunnelmole-client",children:"Tunnelmole"})," is an open source tunneling tool."]}),"\n",(0,i.jsxs)(n.p,{children:["Start by ",(0,i.jsx)(n.a,{href:"https://github.com/robbie-cahill/tunnelmole-client#installation",children:"installing tunnelmole"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"After the installation, run the following command to start tunnelmole:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tmole 8000\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will start a tunnel and will give a response like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u279C  ~ tmole 8000\nhttp://bvdo5f-ip-49-183-170-144.tunnelmole.net is forwarding to localhost:8000\nhttps://bvdo5f-ip-49-183-170-144.tunnelmole.net is forwarding to localhost:8000\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"WOODPECKER_HOST"})," to the Tunnelmole URL (",(0,i.jsx)(n.code,{children:"xxx.tunnelmole.net"}),") and start the server."]}),"\n",(0,i.jsx)(n.h3,{id:"ngrok",children:"Ngrok"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://ngrok.com/",children:"Ngrok"})," is a popular closed source tunnelling tool. After installing ngrok, open a new console and run the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ngrok http 8000\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"WOODPECKER_HOST"})," to the ngrok URL (usually xxx.ngrok.io) and start the server."]}),"\n",(0,i.jsx)(n.h3,{id:"traefik",children:"Traefik"}),"\n",(0,i.jsxs)(n.p,{children:["To install the Woodpecker server behind a ",(0,i.jsx)(n.a,{href:"https://traefik.io/",children:"Traefik"})," load balancer, you must expose both the ",(0,i.jsx)(n.code,{children:"http"})," and the ",(0,i.jsx)(n.code,{children:"gRPC"})," ports. Here is a comprehensive example, considering you are running Traefik with docker swarm and want to do TLS termination and automatic redirection from http to https."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"services:\n  server:\n    image: woodpeckerci/woodpecker-server:latest\n    environment:\n      - WOODPECKER_OPEN=true\n      - WOODPECKER_ADMIN=your_admin_user\n      # other settings ...\n\n    networks:\n      - dmz # externally defined network, so that traefik can connect to the server\n    volumes:\n      - woodpecker-server-data:/var/lib/woodpecker/\n\n    deploy:\n      labels:\n        - traefik.enable=true\n\n        # web server\n        - traefik.http.services.woodpecker-service.loadbalancer.server.port=8000\n\n        - traefik.http.routers.woodpecker-secure.rule=Host(`ci.example.com`)\n        - traefik.http.routers.woodpecker-secure.tls=true\n        - traefik.http.routers.woodpecker-secure.tls.certresolver=letsencrypt\n        - traefik.http.routers.woodpecker-secure.entrypoints=web-secure\n        - traefik.http.routers.woodpecker-secure.service=woodpecker-service\n\n        - traefik.http.routers.woodpecker.rule=Host(`ci.example.com`)\n        - traefik.http.routers.woodpecker.entrypoints=web\n        - traefik.http.routers.woodpecker.service=woodpecker-service\n\n        - traefik.http.middlewares.woodpecker-redirect.redirectscheme.scheme=https\n        - traefik.http.middlewares.woodpecker-redirect.redirectscheme.permanent=true\n        - traefik.http.routers.woodpecker.middlewares=woodpecker-redirect@docker\n\n        #  gRPC service\n        - traefik.http.services.woodpecker-grpc.loadbalancer.server.port=9000\n        - traefik.http.services.woodpecker-grpc.loadbalancer.server.scheme=h2c\n\n        - traefik.http.routers.woodpecker-grpc-secure.rule=Host(`woodpecker-grpc.example.com`)\n        - traefik.http.routers.woodpecker-grpc-secure.tls=true\n        - traefik.http.routers.woodpecker-grpc-secure.tls.certresolver=letsencrypt\n        - traefik.http.routers.woodpecker-grpc-secure.entrypoints=web-secure\n        - traefik.http.routers.woodpecker-grpc-secure.service=woodpecker-grpc\n\n        - traefik.http.routers.woodpecker-grpc.rule=Host(`woodpecker-grpc.example.com`)\n        - traefik.http.routers.woodpecker-grpc.entrypoints=web\n        - traefik.http.routers.woodpecker-grpc.service=woodpecker-grpc\n\n        - traefik.http.middlewares.woodpecker-grpc-redirect.redirectscheme.scheme=https\n        - traefik.http.middlewares.woodpecker-grpc-redirect.redirectscheme.permanent=true\n        - traefik.http.routers.woodpecker-grpc.middlewares=woodpecker-grpc-redirect@docker\n\nvolumes:\n  woodpecker-server-data:\n    driver: local\n\nnetworks:\n  dmz:\n    external: true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"metrics",children:"Metrics"}),"\n",(0,i.jsx)(n.h3,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsxs)(n.p,{children:["Woodpecker is compatible with Prometheus and exposes a ",(0,i.jsx)(n.code,{children:"/metrics"})," endpoint if the environment variable ",(0,i.jsx)(n.code,{children:"WOODPECKER_PROMETHEUS_AUTH_TOKEN"})," is set. Please note that access to the metrics endpoint is restricted and requires the authorization token from the environment variable mentioned above."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"global:\n  scrape_interval: 60s\n\nscrape_configs:\n  - job_name: 'woodpecker'\n    bearer_token: dummyToken...\n\n    static_configs:\n      - targets: ['woodpecker.domain.com']\n"})}),"\n",(0,i.jsx)(n.h3,{id:"authorization",children:"Authorization"}),"\n",(0,i.jsx)(n.p,{children:"An administrator will need to generate a user API token and configure in the Prometheus configuration file as a bearer token. Please see the following example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:" global:\n   scrape_interval: 60s\n\n scrape_configs:\n   - job_name: 'woodpecker'\n+    bearer_token: dummyToken...\n\n     static_configs:\n        - targets: ['woodpecker.domain.com']\n"})}),"\n",(0,i.jsx)(n.p,{children:"As an alternative, the token can also be read from a file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:" global:\n   scrape_interval: 60s\n\n scrape_configs:\n   - job_name: 'woodpecker'\n+    bearer_token_file: /etc/secrets/woodpecker-monitoring-token\n\n     static_configs:\n        - targets: ['woodpecker.domain.com']\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reference",children:"Reference"}),"\n",(0,i.jsx)(n.p,{children:"List of Prometheus metrics specific to Woodpecker:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# HELP woodpecker_pipeline_count Pipeline count.\n# TYPE woodpecker_pipeline_count counter\nwoodpecker_pipeline_count{branch="main",pipeline="total",repo="woodpecker-ci/woodpecker",status="success"} 3\nwoodpecker_pipeline_count{branch="dev",pipeline="total",repo="woodpecker-ci/woodpecker",status="success"} 3\n# HELP woodpecker_pipeline_time Build time.\n# TYPE woodpecker_pipeline_time gauge\nwoodpecker_pipeline_time{branch="main",pipeline="total",repo="woodpecker-ci/woodpecker",status="success"} 116\nwoodpecker_pipeline_time{branch="dev",pipeline="total",repo="woodpecker-ci/woodpecker",status="success"} 155\n# HELP woodpecker_pipeline_total_count Total number of builds.\n# TYPE woodpecker_pipeline_total_count gauge\nwoodpecker_pipeline_total_count 1025\n# HELP woodpecker_pending_steps Total number of pending pipeline steps.\n# TYPE woodpecker_pending_steps gauge\nwoodpecker_pending_steps 0\n# HELP woodpecker_repo_count Total number of repos.\n# TYPE woodpecker_repo_count gauge\nwoodpecker_repo_count 9\n# HELP woodpecker_running_steps Total number of running pipeline steps.\n# TYPE woodpecker_running_steps gauge\nwoodpecker_running_steps 0\n# HELP woodpecker_user_count Total number of users.\n# TYPE woodpecker_user_count gauge\nwoodpecker_user_count 1\n# HELP woodpecker_waiting_steps Total number of pipeline waiting on deps.\n# TYPE woodpecker_waiting_steps gauge\nwoodpecker_waiting_steps 0\n# HELP woodpecker_worker_count Total number of workers.\n# TYPE woodpecker_worker_count gauge\nwoodpecker_worker_count 4\n'})}),"\n",(0,i.jsx)(n.h2,{id:"external-configuration-api",children:"External Configuration API"}),"\n",(0,i.jsxs)(n.p,{children:["To provide additional management and preprocessing capabilities for pipeline configurations Woodpecker supports an HTTP API which can be enabled to call an external config service.\nBefore the run or restart of any pipeline Woodpecker will make a POST request to an external HTTP API sending the current repository, build information and all current config files retrieved from the repository. The external API can then send back new pipeline configurations that will be used immediately or respond with ",(0,i.jsx)(n.code,{children:"HTTP 204"})," to tell the system to use the existing configuration."]}),"\n",(0,i.jsxs)(n.p,{children:["Every request sent by Woodpecker is signed using a ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc9421",children:"http-signature"})," by a private key (ed25519) generated on the first start of the Woodpecker server. You can get the public key for the verification of the http-signature from ",(0,i.jsx)(n.code,{children:"http(s)://your-woodpecker-server/api/signature/public-key"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["A simplistic example configuration service can be found here: ",(0,i.jsx)(n.a,{href:"https://github.com/woodpecker-ci/example-config-service",children:"https://github.com/woodpecker-ci/example-config-service"})]}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"You need to trust the external config service as it is getting secret information about the repository and pipeline and has the ability to change pipeline configs that could run malicious tasks."})}),"\n",(0,i.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",metastring:'title="Server"',children:"WOODPECKER_CONFIG_SERVICE_ENDPOINT=https://example.com/ciconfig\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-request-made-by-woodpecker",children:"Example request made by Woodpecker"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "repo": {\n    "id": 100,\n    "uid": "",\n    "user_id": 0,\n    "namespace": "",\n    "name": "woodpecker-test-pipe",\n    "slug": "",\n    "scm": "git",\n    "git_http_url": "",\n    "git_ssh_url": "",\n    "link": "",\n    "default_branch": "",\n    "private": true,\n    "visibility": "private",\n    "active": true,\n    "config": "",\n    "trusted": false,\n    "protected": false,\n    "ignore_forks": false,\n    "ignore_pulls": false,\n    "cancel_pulls": false,\n    "timeout": 60,\n    "counter": 0,\n    "synced": 0,\n    "created": 0,\n    "updated": 0,\n    "version": 0\n  },\n  "pipeline": {\n    "author": "myUser",\n    "author_avatar": "https://myforge.com/avatars/d6b3f7787a685fcdf2a44e2c685c7e03",\n    "author_email": "my@email.com",\n    "branch": "main",\n    "changed_files": ["some-file-name.txt"],\n    "commit": "2fff90f8d288a4640e90f05049fe30e61a14fd50",\n    "created_at": 0,\n    "deploy_to": "",\n    "enqueued_at": 0,\n    "error": "",\n    "event": "push",\n    "finished_at": 0,\n    "id": 0,\n    "link_url": "https://myforge.com/myUser/woodpecker-testpipe/commit/2fff90f8d288a4640e90f05049fe30e61a14fd50",\n    "message": "test old config\\n",\n    "number": 0,\n    "parent": 0,\n    "ref": "refs/heads/main",\n    "refspec": "",\n    "clone_url": "",\n    "reviewed_at": 0,\n    "reviewed_by": "",\n    "sender": "myUser",\n    "signed": false,\n    "started_at": 0,\n    "status": "",\n    "timestamp": 1645962783,\n    "title": "",\n    "updated_at": 0,\n    "verified": false\n  },\n  "netrc": {\n    "machine": "https://example.com",\n    "login": "user",\n    "password": "password"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-response-structure",children:"Example response structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "configs": [\n    {\n      "name": "central-override",\n      "data": "steps:\\n  - name: backend\\n    image: alpine\\n    commands:\\n      - echo \\"Hello there from ConfigAPI\\"\\n"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ui-customization",children:"UI customization"}),"\n",(0,i.jsx)(n.p,{children:"Woodpecker supports custom JS and CSS files. These files must be present in the server's filesystem.\nThey can be backed in a Docker image or mounted from a ConfigMap inside a Kubernetes environment.\nThe configuration variables are independent of each other, which means it can be just one file present, or both."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_CUSTOM_CSS_FILE=/usr/local/www/woodpecker.css\nWOODPECKER_CUSTOM_JS_FILE=/usr/local/www/woodpecker.js\n"})}),"\n",(0,i.jsx)(n.p,{children:"The examples below show how to place a banner message in the top navigation bar of Woodpecker."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",metastring:'title="woodpecker.css"',children:".banner-message {\n  position: absolute;\n  width: 280px;\n  height: 40px;\n  margin-left: 240px;\n  margin-top: 5px;\n  padding-top: 5px;\n  font-weight: bold;\n  background: red no-repeat;\n  text-align: center;\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="woodpecker.js"',children:"// place/copy a minified version of your preferred lightweight JavaScript library here ...\n!(function () {\n  'use strict';\n  function e() {} /*...*/\n})();\n\n$().ready(function () {\n  $('.app nav img').first().htmlAfter(\"<div class='banner-message'>This is a demo banner message :)</div>\");\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_log_level",children:(0,i.jsx)(n.code,{children:"WOODPECKER_LOG_LEVEL"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Configures the logging level. Possible values are ",(0,i.jsx)(n.code,{children:"trace"}),", ",(0,i.jsx)(n.code,{children:"debug"}),", ",(0,i.jsx)(n.code,{children:"info"}),", ",(0,i.jsx)(n.code,{children:"warn"}),", ",(0,i.jsx)(n.code,{children:"error"}),", ",(0,i.jsx)(n.code,{children:"fatal"}),", ",(0,i.jsx)(n.code,{children:"panic"}),", ",(0,i.jsx)(n.code,{children:"disabled"})," and empty."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_log_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_LOG_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"stderr"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Output destination for logs.\n'stdout' and 'stderr' can be used as special keywords."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_log",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_LOG"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Enable logging in database engine (currently xorm)."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_log_sql",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_LOG_SQL"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Enable logging of sql commands."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_max_connections",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_MAX_CONNECTIONS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"100"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Max database connections xorm is allowed create."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_idle_connections",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_IDLE_CONNECTIONS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"2"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Amount of database connections xorm will hold open."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_connection_timeout",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_CONNECTION_TIMEOUT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"3 Seconds"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Time an active database connection is allowed to stay open."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_debug_pretty",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEBUG_PRETTY"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Enable pretty-printed debug output."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_debug_nocolor",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEBUG_NOCOLOR"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Disable colored debug output."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_host",children:(0,i.jsx)(n.code,{children:"WOODPECKER_HOST"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Server fully qualified URL of the user-facing hostname, port (if not default for HTTP/HTTPS) and path prefix."}),"\n",(0,i.jsx)(n.p,{children:"Examples:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WOODPECKER_HOST=http://woodpecker.example.org"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WOODPECKER_HOST=http://example.org/woodpecker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WOODPECKER_HOST=http://example.org:1234/woodpecker"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_server_addr",children:(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_ADDR"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:":8000"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures the HTTP listener port."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_server_addr_tls",children:(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_ADDR_TLS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:":443"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures the HTTPS listener port when SSL is enabled."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_server_cert",children:(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_CERT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Path to an SSL certificate used by the server to accept HTTPS requests."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_CERT=/path/to/cert.pem"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_server_key",children:(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_KEY"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Path to an SSL certificate key used by the server to accept HTTPS requests."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_SERVER_KEY=/path/to/key.pem"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_custom_css_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_CUSTOM_CSS_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"File path for the server to serve a custom .CSS file, used for customizing the UI.\nCan be used for showing banner messages, logos, or environment-specific hints (a.k.a. white-labeling).\nThe file must be UTF-8 encoded, to ensure all special characters are preserved."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_CUSTOM_CSS_FILE=/usr/local/www/woodpecker.css"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_custom_js_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_CUSTOM_JS_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"File path for the server to serve a custom .JS file, used for customizing the UI.\nCan be used for showing banner messages, logos, or environment-specific hints (a.k.a. white-labeling).\nThe file must be UTF-8 encoded, to ensure all special characters are preserved."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_CUSTOM_JS_FILE=/usr/local/www/woodpecker.js"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_grpc_addr",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GRPC_ADDR"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:":9000"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures the gRPC listener port."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_grpc_secret",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GRPC_SECRET"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"secret"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures the gRPC JWT secret."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_grpc_secret_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GRPC_SECRET_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Read the value for ",(0,i.jsx)(n.code,{children:"WOODPECKER_GRPC_SECRET"})," from the specified filepath."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_metrics_server_addr",children:(0,i.jsx)(n.code,{children:"WOODPECKER_METRICS_SERVER_ADDR"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures an unprotected metrics endpoint. An empty value disables the metrics endpoint completely."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:":9001"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_admin",children:(0,i.jsx)(n.code,{children:"WOODPECKER_ADMIN"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Comma-separated list of admin accounts."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_ADMIN=user1,user2"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_orgs",children:(0,i.jsx)(n.code,{children:"WOODPECKER_ORGS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Comma-separated list of approved organizations."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"org1,org2"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_repo_owners",children:(0,i.jsx)(n.code,{children:"WOODPECKER_REPO_OWNERS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Repositories by those owners will be allowed to be used in woodpecker."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"user1,user2"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_open",children:(0,i.jsx)(n.code,{children:"WOODPECKER_OPEN"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Enable to allow user registration."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_authenticate_public_repos",children:(0,i.jsx)(n.code,{children:"WOODPECKER_AUTHENTICATE_PUBLIC_REPOS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Always use authentication to clone repositories even if they are public. Needed if the forge requires to always authenticate as used by many companies."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_default_allow_pull_requests",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEFAULT_ALLOW_PULL_REQUESTS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The default setting for allowing pull requests on a repo."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_default_cancel_previous_pipeline_events",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEFAULT_CANCEL_PREVIOUS_PIPELINE_EVENTS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"pull_request, push"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"List of event names that will be canceled when a new pipeline for the same context (tag, branch) is created."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_default_clone_plugin",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEFAULT_CLONE_PLUGIN"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default is defined in ",(0,i.jsx)(n.a,{href:"https://github.com/woodpecker-ci/woodpecker/blob/main/shared/constant/constant.go",children:"shared/constant/constant.go"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The default docker image to be used when cloning the repo."}),"\n",(0,i.jsx)(n.p,{children:"It is also added to the trusted clone plugin list."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_default_workflow_labels",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEFAULT_WORKFLOW_LABELS"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"By default run workflows on any agent if no label conditions are set in workflow definition."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You can specify default label/platform conditions that will be used for agent selection for workflows that does not have labels conditions set."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"platform=linux/amd64,backend=docker"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_default_pipeline_timeout",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DEFAULT_PIPELINE_TIMEOUT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"60 (minutes)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The default time for a repo in minutes before a pipeline gets killed"}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_max_pipeline_timeout",children:(0,i.jsx)(n.code,{children:"WOODPECKER_MAX_PIPELINE_TIMEOUT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"120 (minutes)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The maximum time in minutes you can set in the repo settings before a pipeline gets killed"}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_session_expires",children:(0,i.jsx)(n.code,{children:"WOODPECKER_SESSION_EXPIRES"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"72h"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures the session expiration time.\nContext: when someone does log into Woodpecker, a temporary session token is created.\nAs long as the session is valid (until it expires or log-out),\na user can log into Woodpecker, without re-authentication."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_plugins_privileged",children:(0,i.jsx)(n.code,{children:"WOODPECKER_PLUGINS_PRIVILEGED"})}),"\n",(0,i.jsx)(n.p,{children:"Docker images to run in privileged mode. Only change if you are sure what you do!"}),"\n",(0,i.jsx)(n.p,{children:"You should specify the tag of your images too, as this enforces exact matches."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_plugins_trusted_clone",children:"WOODPECKER_PLUGINS_TRUSTED_CLONE"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Defaults are defined in ",(0,i.jsx)(n.a,{href:"https://github.com/woodpecker-ci/woodpecker/blob/main/shared/constant/constant.go",children:"shared/constant/constant.go"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Plugins which are trusted to handle the Git credential info in clone steps.\nIf a clone step use an image not in this list, Git credentials will not be injected and users have to use other methods (e.g. secrets) to clone non-public repos."}),"\n",(0,i.jsx)(n.p,{children:"You should specify the tag of your images too, as this enforces exact matches."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_docker_config",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DOCKER_CONFIG"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configures a specific private registry config for all pipelines."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_DOCKER_CONFIG=/home/user/.docker/config.json"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_agent_secret",children:(0,i.jsx)(n.code,{children:"WOODPECKER_AGENT_SECRET"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A shared secret used by server and agents to authenticate communication. A secret can be generated by ",(0,i.jsx)(n.code,{children:"openssl rand -hex 32"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_agent_secret_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_AGENT_SECRET_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Read the value for ",(0,i.jsx)(n.code,{children:"WOODPECKER_AGENT_SECRET"})," from the specified filepath"]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_disable_user_agent_registration",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DISABLE_USER_AGENT_REGISTRATION"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: false"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By default, users can create new agents for their repos they have admin access to.\nIf an instance admin doesn't want this feature enabled, they can disable the API and hide the Web UI elements."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"You should set this option if you have, for example,\nglobal secrets and don't trust your users to create a rogue agent and pipeline for secret extraction."})}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_keepalive_min_time",children:(0,i.jsx)(n.code,{children:"WOODPECKER_KEEPALIVE_MIN_TIME"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Server-side enforcement policy on the minimum amount of time a client should wait before sending a keepalive ping."}),"\n",(0,i.jsxs)(n.p,{children:["Example: ",(0,i.jsx)(n.code,{children:"WOODPECKER_KEEPALIVE_MIN_TIME=10s"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_driver",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_DRIVER"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"sqlite3"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The database driver name. Possible values are ",(0,i.jsx)(n.code,{children:"sqlite3"}),", ",(0,i.jsx)(n.code,{children:"mysql"})," or ",(0,i.jsx)(n.code,{children:"postgres"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_datasource",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_DATASOURCE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"woodpecker.sqlite"})," if not running inside a container, ",(0,i.jsx)(n.code,{children:"/var/lib/woodpecker/woodpecker.sqlite"})," if running inside a container"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The database connection string. The default value is the path of the embedded SQLite database file."}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# MySQL\n# https://github.com/go-sql-driver/mysql#dsn-data-source-name\nWOODPECKER_DATABASE_DATASOURCE=root:password@tcp(1.2.3.4:3306)/woodpecker?parseTime=true\n\n# PostgreSQL\n# https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING\nWOODPECKER_DATABASE_DATASOURCE=postgres://root:password@1.2.3.4:5432/woodpecker?sslmode=disable\n"})}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_database_datasource_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_DATASOURCE_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Read the value for ",(0,i.jsx)(n.code,{children:"WOODPECKER_DATABASE_DATASOURCE"})," from the specified filepath"]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_prometheus_auth_token",children:(0,i.jsx)(n.code,{children:"WOODPECKER_PROMETHEUS_AUTH_TOKEN"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Token to secure the Prometheus metrics endpoint.\nMust be set to enable the endpoint."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_prometheus_auth_token_file",children:(0,i.jsx)(n.code,{children:"WOODPECKER_PROMETHEUS_AUTH_TOKEN_FILE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Read the value for ",(0,i.jsx)(n.code,{children:"WOODPECKER_PROMETHEUS_AUTH_TOKEN"})," from the specified filepath"]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_status_context",children:(0,i.jsx)(n.code,{children:"WOODPECKER_STATUS_CONTEXT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"ci/woodpecker"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Context prefix Woodpecker will use to publish status messages to SCM. You probably will only need to change it if you run multiple Woodpecker instances for a single repository."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_status_context_format",children:(0,i.jsx)(n.code,{children:"WOODPECKER_STATUS_CONTEXT_FORMAT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"{{ .context }}/{{ .event }}/{{ .workflow }}{{if not (eq .axis_id 0)}}/{{.axis_id}}{{end}}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Template for the status messages published to forges, uses ",(0,i.jsx)(n.a,{href:"https://pkg.go.dev/text/template",children:"Go templates"})," as template language.\nSupported variables:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"context"}),": Woodpecker's context (see ",(0,i.jsx)(n.code,{children:"WOODPECKER_STATUS_CONTEXT"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"event"}),": the event which started the pipeline"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"workflow"}),": the workflow's name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"owner"}),": the repo's owner"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"repo"}),": the repo's name"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_config_service_endpoint",children:(0,i.jsx)(n.code,{children:"WOODPECKER_CONFIG_SERVICE_ENDPOINT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Specify a configuration service endpoint, see ",(0,i.jsx)(n.a,{href:"#external-configuration-api",children:"Configuration Extension"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_forge_timeout",children:(0,i.jsx)(n.code,{children:"WOODPECKER_FORGE_TIMEOUT"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: 5s"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Specify timeout when fetching the Woodpecker configuration from forge. See ",(0,i.jsx)(n.a,{href:"https://pkg.go.dev/time#ParseDuration",children:"https://pkg.go.dev/time#ParseDuration"})," for syntax reference."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_forge_retry",children:(0,i.jsx)(n.code,{children:"WOODPECKER_FORGE_RETRY"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: 3"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Specify how many retries of fetching the Woodpecker configuration from a forge are done before we fail."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_enable_swagger",children:(0,i.jsx)(n.code,{children:"WOODPECKER_ENABLE_SWAGGER"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: true"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Enable the Swagger UI for API documentation."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_disable_version_check",children:(0,i.jsx)(n.code,{children:"WOODPECKER_DISABLE_VERSION_CHECK"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default: false"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Disable version check in admin web UI."}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_log_store",children:(0,i.jsx)(n.code,{children:"WOODPECKER_LOG_STORE"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"database"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Where to store logs. Possible values: ",(0,i.jsx)(n.code,{children:"database"})," or ",(0,i.jsx)(n.code,{children:"file"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_log_store_file_path",children:(0,i.jsx)(n.code,{children:"WOODPECKER_LOG_STORE_FILE_PATH"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Default empty"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Directory to store logs in if ",(0,i.jsx)(n.a,{href:"#woodpecker_log_store",children:(0,i.jsx)(n.code,{children:"WOODPECKER_LOG_STORE"})})," is ",(0,i.jsx)(n.code,{children:"file"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_github_",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GITHUB_..."})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/github#configuration",children:"GitHub configuration"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_gitea_",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GITEA_..."})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/gitea#configuration",children:"Gitea configuration"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_bitbucket_",children:(0,i.jsx)(n.code,{children:"WOODPECKER_BITBUCKET_..."})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/bitbucket#configuration",children:"Bitbucket configuration"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_gitlab_",children:(0,i.jsx)(n.code,{children:"WOODPECKER_GITLAB_..."})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/gitlab#configuration",children:"GitLab configuration"})]}),"\n",(0,i.jsx)(n.h3,{id:"woodpecker_addon_forge",children:(0,i.jsx)(n.code,{children:"WOODPECKER_ADDON_FORGE"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/3.3/administration/configuration/forges/addon",children:"addon forges"}),"."]})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},24924:function(e,n,o){o.d(n,{Z:function(){return d},a:function(){return c}});var r=o(39546);let i={},s=r.createContext(i);function c(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);