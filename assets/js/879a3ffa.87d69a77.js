"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["7971"],{38430(e){e.exports=JSON.parse('{"name":"S3","slug":"s3","url":"https://codeberg.org/woodpecker-plugins/s3","icon":"https://codeberg.org/woodpecker-plugins/s3/raw/branch/main/s3.svg","description":"Plugin to publish files and artifacts to Amazon S3 or Minio.","docs":"<h1>S3 Plugin</h1>\\n<p>The S3 plugin uploads files and build artifacts to your S3 bucket, or S3-compatible bucket such as Minio.\\nIf you can not use docker.io there is an mirror at <code>codeberg.org/woodpecker-plugins/s3</code>.\\nThe below pipeline configuration demonstrates simple usage:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      access_key: a50d28f4dd477bc184fbd10b376de753\\n      secret_key: dummy-secret-key\\n      source: public/**/*\\n      target: /target/location\\n</code></pre>\\n<p>Source the aws credentials from secrets:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      access_key:\\n        from_secret: aws_access_key_id\\n      secret_key:\\n        from_secret: aws_secret_access_key\\n      source: public/**/*\\n      target: /target/location\\n</code></pre>\\n<p>Use the pipeline number in the S3 target prefix:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      source: public/**/*\\n      target: /target/location/${CI_PIPELINE_NUMBER}\\n</code></pre>\\n<p>Override the default acl and region:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  - name: upload\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      acl: public-read\\n      region: us-east-1\\n      source: public/**/*\\n      target: /target/location\\n</code></pre>\\n<p>Configure the plugin to strip path prefixes when uploading:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      source: public/**/*\\n      target: /target/location\\n      strip_prefix: public/\\n</code></pre>\\n<p>Configure the plugin to exclude files from upload and compress:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      source: public/**/*\\n      target: /target/location\\n      exclude:\\n        - **/*.xml\\n      compress: true\\n</code></pre>\\n<p>Configure the plugin to connect to a Minio server:</p>\\n<pre><code class=\\"language-yml\\">steps:\\n  upload:\\n    image: docker.io/woodpeckerci/plugin-s3\\n    settings:\\n      bucket: my-bucket-name\\n      source: public/**/*\\n      target: /target/location\\n      path_style: true\\n      endpoint: https://play.minio.io:9000\\n</code></pre>\\n<h2>Settings Reference</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>Setting</th>\\n<th>Description</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td><code>endpoint</code></td>\\n<td>custom endpoint URL (optional, to use a S3 compatible non-Amazon service)</td>\\n</tr>\\n<tr>\\n<td><code>access_key</code></td>\\n<td>amazon key (optional)</td>\\n</tr>\\n<tr>\\n<td><code>secret_key</code></td>\\n<td>amazon secret key (optional)</td>\\n</tr>\\n<tr>\\n<td><code>assume_role</code></td>\\n<td>aws iam role to assume (optional)</td>\\n</tr>\\n<tr>\\n<td><code>assume_role_session_name</code></td>\\n<td>aws iam role session name to assume (default <code>woodpecker-s3</code>)</td>\\n</tr>\\n<tr>\\n<td><code>bucket</code></td>\\n<td>bucket name</td>\\n</tr>\\n<tr>\\n<td><code>region</code></td>\\n<td>bucket region (<code>us-east-1</code>, <code>eu-west-1</code>, etc)</td>\\n</tr>\\n<tr>\\n<td><code>acl</code></td>\\n<td>access to files that are uploaded (<code>private</code>, <code>public-read</code>, etc)</td>\\n</tr>\\n<tr>\\n<td><code>source</code></td>\\n<td>source location of the files, using a glob matching pattern. Location must be within the woodpecker workspace.</td>\\n</tr>\\n<tr>\\n<td><code>target</code></td>\\n<td>target location of files in the bucket</td>\\n</tr>\\n<tr>\\n<td><code>encryption</code></td>\\n<td>if provided, use server-side encryption</td>\\n</tr>\\n<tr>\\n<td><code>encryption-key</code></td>\\n<td>server-side encryption key for KMS</td>\\n</tr>\\n<tr>\\n<td><code>strip_prefix</code></td>\\n<td>strip the prefix from source path</td>\\n</tr>\\n<tr>\\n<td><code>exclude</code></td>\\n<td>glob exclusion patterns</td>\\n</tr>\\n<tr>\\n<td><code>path_style</code></td>\\n<td>whether path style URLs should be used (true for minio)</td>\\n</tr>\\n<tr>\\n<td><code>env_file</code></td>\\n<td>load env vars from file</td>\\n</tr>\\n<tr>\\n<td><code>compress</code></td>\\n<td>prior to upload, compress files and use gzip content-encoding (false by default)</td>\\n</tr>\\n<tr>\\n<td><code>overwrite</code></td>\\n<td>overwrite existing files (true by default)</td>\\n</tr>\\n<tr>\\n<td><code>retry_count</code></td>\\n<td>number of times to retry an upload of a file if it fails (0 by default)</td>\\n</tr>\\n<tr>\\n<td><code>retry_delay</code></td>\\n<td>amount of time to wait before each retry (5s by default)</td>\\n</tr>\\n<tr>\\n<td><code>content_type</code></td>\\n<td>JSON map of content types with globs as keys</td>\\n</tr>\\n<tr>\\n<td><code>content_encoding</code></td>\\n<td>JSON map of content encoding with globs as keys</td>\\n</tr>\\n<tr>\\n<td><code>cache_control</code></td>\\n<td>JSON map of cache-control header with globs as keys</td>\\n</tr>\\n<tr>\\n<td><code>storage_class</code></td>\\n<td>set storage class to choose the best backend</td>\\n</tr>\\n<tr>\\n<td><code>dry_run</code></td>\\n<td>dry run for debug purposes</td>\\n</tr>\\n</tbody></table>\\n","tags":["publish","s3","amazon","minio","storage"],"author":"Woodpecker Authors","containerImage":"woodpeckerci/plugin-s3","containerImageUrl":"https://hub.docker.com/r/woodpeckerci/plugin-s3","verified":true,"iconDataUrl":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MjgiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNDI4IDUxMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2UyNTQ0NDsKICAgICAgfQoKICAgICAgLmNscy0xLCAuY2xzLTIsIC5jbHMtMyB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICM3YjFkMTM7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogIzU4MTUwZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzc4LDk5TDI5NSwyNTdsODMsMTU4LDM0LTE5VjExOFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0zNzgsOTlMMjEyLDExOCwxMjcuNSwyNTcsMjEyLDM5NmwxNjYsMTlWOTlaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0zIiBkPSJNNDMsOTlMMTYsMTExVjQwM2wyNywxMkwyMTIsMjU3WiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTQyLjYzNyw5OC42NjdsMTY5LjU4Nyw0Ny4xMTFWMzcyLjQ0NEw0Mi42MzcsNDE1LjExMVY5OC42NjdaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMjEyLjMxMywxNzAuNjY3bC03Mi4wMDgtMTEuNTU2LDcyLjAwOC04MS43NzgsNzEuODMsODEuNzc4WiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTI4NC4xNDMsMTU5LjExMWwtNzEuOTE5LDExLjczMy03MS45MTktMTEuNzMzVjc3LjMzMyIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTIxMi4zMTMsMzQyLjIyMmwtNzIuMDA4LDEzLjMzNCw3Mi4wMDgsNzAuMjIyLDcxLjgzLTcwLjIyMloiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yMTIsMTZMMTQwLDU0VjE1OWw3Mi4yMjQtMjAuMzMzWiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTIxMi4yMjQsMTk2LjQ0NGwtNzEuOTE5LDcuODIzVjMwOS4xMDVsNzEuOTE5LDguMjI4VjE5Ni40NDRaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjEyLjIyNCwzNzMuMzMzTDE0MC4zMDUsMzU1LjNWNDU4LjM2M0wyMTIuMjI0LDQ5NlYzNzMuMzMzWiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI4NC4xNDMsMzU1LjNsLTcxLjkxOSwxOC4wMzhWNDk2bDcxLjkxOS0zNy42MzdWMzU1LjNaIi8+CiAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjEyLjIyNCwxOTYuNDQ0bDcxLjkxOSw3LjgyM1YzMDkuMTA1bC03MS45MTksOC4yMjhWMTk2LjQ0NFoiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yMTIsMTZsNzIsMzhWMTU5bC03Mi0yMFYxNloiLz4KPC9zdmc+Cg=="}')}}]);