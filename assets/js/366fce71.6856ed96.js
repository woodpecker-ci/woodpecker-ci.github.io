"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["9938"],{83789:function(e){e.exports=JSON.parse('{"name":"woodpecker-gitea-publisher-golang","slug":"woodpecker-gitea-publisher-golang","url":"https://github.com/woodpecker-kit/woodpecker-gitea-publisher-golang","icon":"https://raw.githubusercontent.com/woodpecker-kit/woodpecker-gitea-publisher-golang/main/doc/logo.svg","description":"Plugin to publish golang package to a Gitea Go Package Registry","docs":"<p>woodpecker-gitea-publisher-golang</p>\\n<p>plugin as <a href=\\"https://woodpecker-ci.org/\\">https://woodpecker-ci.org/</a> for <a href=\\"https://docs.gitea.com/usage/packages/go/\\">https://docs.gitea.com/usage/packages/go/</a> to publisher golang package</p>\\n<h2>Features</h2>\\n<ul>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> push to <a href=\\"https://docs.gitea.com/usage/packages/go/\\">gitea Go Package Registry</a></li>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> use TempDir to generate go mod zip file</li>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> support dry-run mode</li>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> auto get gitea base URL by <code>CI_FORGE_URL</code></li>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> support <a href=\\"https://en.wikipedia.org/wiki/Monorepo\\">Monorepo</a><ul>\\n<li>use <code>settings.gitea-publish-golang-path-go</code> to publish dir go.mod one by one</li>\\n</ul>\\n</li>\\n<li><input checked=\\"\\" disabled=\\"\\" type=\\"checkbox\\"> out publish info json file default <code>dist/go-mod-upload.json</code><ul>\\n<li>use <code>settings.gitea-publish-golang-update-result-root-path</code> to change out root path, default <code>dist</code></li>\\n<li>use <code>settings.gitea-publish-golang-update-result-file-name</code> to change out file name, default <code>go-mod-upload.json</code></li>\\n</ul>\\n</li>\\n</ul>\\n<h2>Settings</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>Name</th>\\n<th>Required</th>\\n<th>Default value</th>\\n<th>Description</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td><code>debug</code></td>\\n<td><strong>no</strong></td>\\n<td><em>false</em></td>\\n<td>open debug log or open by env <code>PLUGIN_DEBUG</code></td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-api-key</code></td>\\n<td><strong>yes</strong></td>\\n<td></td>\\n<td>gitea api key, Required</td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-base-url</code></td>\\n<td><strong>no</strong></td>\\n<td></td>\\n<td>gitea base url, default by <code>CI_FORGE_URL</code></td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-insecure</code></td>\\n<td><strong>no</strong></td>\\n<td><em>false</em></td>\\n<td>gitea insecure enable</td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-dry-run</code></td>\\n<td><strong>no</strong></td>\\n<td><em>false</em></td>\\n<td>dry run mode</td>\\n</tr>\\n<tr>\\n<td><code>gitea-release-exists-do</code></td>\\n<td><strong>no</strong></td>\\n<td><em>fail</em></td>\\n<td>package release exists do, support <code>[fail skip overwrite]</code> ,{version 1.2+} (default: \\"fail\\")</td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-path-go</code></td>\\n<td><strong>no</strong></td>\\n<td>\\"\\"</td>\\n<td>publish go package is dir to find go.mod, will append project root path, default is this project root path</td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-remove-paths</code></td>\\n<td><strong>no</strong></td>\\n<td><code>[\\"dist\\"]</code></td>\\n<td>publish go package remove paths, this path under <code>gitea-publish-golang-path-go</code>, default will remove <code>dist</code></td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-update-result-root-path</code></td>\\n<td><strong>no</strong></td>\\n<td><em>dist</em></td>\\n<td>out result root path append CI Workspace, default <code>dist</code></td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-update-result-file-name</code></td>\\n<td><strong>no</strong></td>\\n<td><em>go-mod-upload.json</em></td>\\n<td>out file name, default <code>go-mod-upload.json</code></td>\\n</tr>\\n</tbody></table>\\n<p><strong>Hide Settings:</strong></p>\\n<table>\\n<thead>\\n<tr>\\n<th>Name</th>\\n<th>Required</th>\\n<th>Default value</th>\\n<th>Description</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td><code>timeout_second</code></td>\\n<td><strong>no</strong></td>\\n<td><em>10</em></td>\\n<td>command timeout setting by second</td>\\n</tr>\\n<tr>\\n<td><code>gitea-publish-golang-timeout-second</code></td>\\n<td><strong>no</strong></td>\\n<td><em>60</em></td>\\n<td>gitea release api timeout second, default 60, less 30</td>\\n</tr>\\n<tr>\\n<td><code>woodpecker-kit-steps-transfer-file-path</code></td>\\n<td><strong>no</strong></td>\\n<td><code>.woodpecker_kit.steps.transfer</code></td>\\n<td>Steps transfer file path, default by <code>wd_steps_transfer.DefaultKitStepsFileName</code></td>\\n</tr>\\n<tr>\\n<td><code>woodpecker-kit-steps-transfer-disable-out</code></td>\\n<td><strong>no</strong></td>\\n<td><em>false</em></td>\\n<td>Steps transfer write disable out</td>\\n</tr>\\n</tbody></table>\\n<h2>Example</h2>\\n<ul>\\n<li>workflow with backend <code>docker</code></li>\\n</ul>\\n<p><a href=\\"https://hub.docker.com/r/sinlov/woodpecker-gitea-publisher-golang/tags?page=1&amp;ordering=last_updated\\"><img src=\\"https://img.shields.io/docker/v/sinlov/woodpecker-gitea-publisher-golang?sort=semver\\" alt=\\"docker hub version semver\\"></a>\\n<a href=\\"https://hub.docker.com/r/sinlov/woodpecker-gitea-publisher-golang\\"><img src=\\"https://img.shields.io/docker/image-size/sinlov/woodpecker-gitea-publisher-golang\\" alt=\\"docker hub image size\\"></a>\\n<a href=\\"https://hub.docker.com/r/sinlov/woodpecker-gitea-publisher-golang/tags?page=1&amp;ordering=last_updated\\"><img src=\\"https://img.shields.io/docker/pulls/sinlov/woodpecker-gitea-publisher-golang\\" alt=\\"docker hub image pulls\\"></a></p>\\n<pre><code class=\\"language-yml\\">labels:\\n  backend: docker\\nsteps:\\n  woodpecker-gitea-publisher-golang:\\n    image: sinlov/woodpecker-gitea-publisher-golang:latest\\n    pull: false\\n    settings:\\n      # debug: true\\n      # gitea-publish-golang-dry-run: true # dry run mode\\n      gitea-publish-golang-api-key: # gitea api key, Required\\n        from_secret: gitea_api_key_release\\n      gitea-release-exists-do: \\"fail\\" # support [fail skip overwrite] (default: \\"fail\\") {version 1.2+}\\n      gitea-publish-golang-path-go: \\"\\" # publish go package is dir to find go.mod, will append project root path, default is this project root path\\n      gitea-publish-golang-remove-paths: # publish go package remove paths, this path under `gitea-publish-golang-path-go`, default will remove `dist`\\n        - \\"dist\\"\\n      # gitea-publish-golang-update-result-root-path: \\"dist\\" # out result root path append CI Workspace, default `dist`\\n      # gitea-publish-golang-update-result-file-name: \\"go-mod-upload.json\\" # out file name, default `go-mod-upload.json`\\n</code></pre>\\n<ul>\\n<li>workflow with backend <code>local</code>, must install at local and effective at evn <code>PATH</code><ul>\\n<li>can download by <a href=\\"https://github.com/woodpecker-kit/woodpecker-gitea-publisher-golang/releases\\">github release</a></li>\\n</ul>\\n</li>\\n<li>install at ${GOPATH}/bin, latest</li>\\n</ul>\\n<pre><code class=\\"language-bash\\">go install -a github.com/woodpecker-kit/woodpecker-gitea-publisher-golang/cmd/woodpecker-gitea-publisher-golang@latest\\n</code></pre>\\n<p><a href=\\"https://github.com/woodpecker-kit/woodpecker-gitea-publisher-golang/tags\\"><img src=\\"https://img.shields.io/github/v/tag/woodpecker-kit/woodpecker-gitea-publisher-golang\\" alt=\\"GitHub latest SemVer tag)\\"></a>\\n<a href=\\"https://github.com/woodpecker-kit/woodpecker-gitea-publisher-golang/releases\\"><img src=\\"https://img.shields.io/github/v/release/woodpecker-kit/woodpecker-gitea-publisher-golang\\" alt=\\"GitHub release)\\"></a></p>\\n<ul>\\n<li>install at ${GOPATH}/bin, v1.0.0</li>\\n</ul>\\n<pre><code class=\\"language-bash\\">go install -v github.com/woodpecker-kit/woodpecker-gitea-publisher-golang/cmd/woodpecker-gitea-publisher-golang@v1.0.0\\n</code></pre>\\n<pre><code class=\\"language-yml\\">labels:\\n  backend: local\\nsteps:\\n  woodpecker-gitea-publisher-golang:\\n    image: woodpecker-gitea-publisher-golang\\n    settings:\\n      # debug: true\\n      # gitea-publish-golang-dry-run: true # dry run mode\\n      gitea-publish-golang-api-key: # gitea api key, Required\\n        from_secret: gitea_api_key_release\\n      gitea-release-exists-do: \\"fail\\" # support [fail skip overwrite] (default: \\"fail\\") {version 1.2+}\\n      gitea-publish-golang-path-go: \\"\\" # publish go package is dir to find go.mod, will append project root path, default is this project root path\\n      gitea-publish-golang-remove-paths: # publish go package remove paths, this path under `gitea-publish-golang-path-go`, default will remove `dist`\\n        - \\"dist\\"\\n      # gitea-publish-golang-update-result-root-path: \\"dist\\" # out result root path append CI Workspace, default `dist`\\n      # gitea-publish-golang-update-result-file-name: \\"go-mod-upload.json\\" # out file name, default `go-mod-upload.json`\\n</code></pre>\\n<ul>\\n<li>full config</li>\\n</ul>\\n<pre><code class=\\"language-yaml\\">labels:\\n  backend: docker\\nsteps:\\n  woodpecker-gitea-publisher-golang:\\n    image: sinlov/woodpecker-gitea-publisher-golang:latest\\n    pull: false\\n    settings:\\n      debug: true\\n      gitea-publish-golang-dry-run: true # dry run mode\\n      gitea-publish-golang-timeout-second: 120 # gitea release api timeout second, default 60, less 30 \\n      gitea-publish-golang-api-key: # gitea api key, Required\\n        from_secret: gitea_api_key_release\\n      gitea-publish-golang-base-url: \\"https://gitea.example.com\\" # default by CI_FORGE_URL auto to find\\n      gitea-publish-golang-insecure: true #  gitea insecure enable\\n      gitea-release-exists-do: \\"fail\\" # support [fail skip overwrite] (default: \\"fail\\") {version 1.2+}\\n      gitea-publish-golang-path-go: \\"sub-go\\" # publish go package is dir to find go.mod, will append project root path, default is this project root path\\n      gitea-publish-golang-remove-paths: # publish go package remove paths, this path under `gitea-publish-golang-path-go`, default will remove `dist`\\n        - \\"dist\\"\\n      gitea-publish-golang-update-result-root-path: \\"dist\\" # out result root path append CI Workspace, default `dist`\\n      gitea-publish-golang-update-result-file-name: \\"go-mod-upload.json\\" # out file name, default `go-mod-upload.json`\\n</code></pre>\\n<h2>Notes</h2>\\n<ul>\\n<li>go mod zip file will generate by TempDir and try to remove after publish</li>\\n<li>template dir path graph <code>tempDir/woodpecker-gitea-publisher-golang/{repo-hostname}/{owner}/{repo}/{build_number}</code></li>\\n</ul>\\n<h2>Known limitations</h2>\\n<ol>\\n<li>go mod zip file generate by <code>zip.CreateFromDir</code>, this method will check\\nas <a href=\\"https://semver.org/\\">https://semver.org/</a>, so this kit use <code>CI_COMMIT_TAG</code> to generate version</li>\\n<li>open <code>gitea-publish-golang-dry-run</code> mode can pass all check, but not publish to gitea</li>\\n<li>but without event tag will use version mark as <code>latest</code>, this will not pass <code>zip.CreateFromDir</code>check, so will not\\npublish to gitea</li>\\n</ol>\\n","tags":["Gitea","publish-golang"],"author":"sinlov","containerImage":"sinlov/woodpecker-gitea-publisher-golang","containerImageUrl":"https://hub.docker.com/r/sinlov/woodpecker-gitea-publisher-golang","verified":false,"iconDataUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJtYWluX291dGxpbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIKCSB5PSIwcHgiIHZpZXdCb3g9IjAgMCA2NDAgNjQwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2NDAgNjQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggaWQ9InRlYWJhZyIgc3R5bGU9ImZpbGw6I0ZGRkZGRiIgZD0iTTM5NS45LDQ4NC4ybC0xMjYuOS02MWMtMTIuNS02LTE3LjktMjEuMi0xMS44LTMzLjhsNjEtMTI2LjljNi0xMi41LDIxLjItMTcuOSwzMy44LTExLjgKCQljMTcuMiw4LjMsMjcuMSwxMywyNy4xLDEzbC0wLjEtMTA5LjJsMTYuNy0wLjFsMC4xLDExNy4xYzAsMCw1Ny40LDI0LjIsODMuMSw0MC4xYzMuNywyLjMsMTAuMiw2LjgsMTIuOSwxNC40CgkJYzIuMSw2LjEsMiwxMy4xLTEsMTkuM2wtNjEsMTI2LjlDNDIzLjYsNDg0LjksNDA4LjQsNDkwLjMsMzk1LjksNDg0LjJ6Ii8+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggc3R5bGU9ImZpbGw6IzYwOTkyNiIgZD0iTTYyMi43LDE0OS44Yy00LjEtNC4xLTkuNi00LTkuNi00cy0xMTcuMiw2LjYtMTc3LjksOGMtMTMuMywwLjMtMjYuNSwwLjYtMzkuNiwwLjdjMCwzOS4xLDAsNzguMiwwLDExNy4yCgkJCQljLTUuNS0yLjYtMTEuMS01LjMtMTYuNi03LjljMC0zNi40LTAuMS0xMDkuMi0wLjEtMTA5LjJjLTI5LDAuNC04OS4yLTIuMi04OS4yLTIuMnMtMTQxLjQtNy4xLTE1Ni44LTguNQoJCQkJYy05LjgtMC42LTIyLjUtMi4xLTM5LDEuNWMtOC43LDEuOC0zMy41LDcuNC01My44LDI2LjlDLTQuOSwyMTIuNCw2LjYsMjc2LjIsOCwyODUuOGMxLjcsMTEuNyw2LjksNDQuMiwzMS43LDcyLjUKCQkJCWM0NS44LDU2LjEsMTQ0LjQsNTQuOCwxNDQuNCw1NC44czEyLjEsMjguOSwzMC42LDU1LjVjMjUsMzMuMSw1MC43LDU4LjksNzUuNyw2MmM2MywwLDE4OC45LTAuMSwxODguOS0wLjFzMTIsMC4xLDI4LjMtMTAuMwoJCQkJYzE0LTguNSwyNi41LTIzLjQsMjYuNS0yMy40czEyLjktMTMuOCwzMC45LTQ1LjNjNS41LTkuNywxMC4xLTE5LjEsMTQuMS0yOGMwLDAsNTUuMi0xMTcuMSw1NS4yLTIzMS4xCgkJCQlDNjMzLjIsMTU3LjksNjI0LjcsMTUxLjgsNjIyLjcsMTQ5Ljh6IE0xMjUuNiwzNTMuOWMtMjUuOS04LjUtMzYuOS0xOC43LTM2LjktMTguN1M2OS42LDMyMS44LDYwLDI5NS40CgkJCQljLTE2LjUtNDQuMi0xLjQtNzEuMi0xLjQtNzEuMnM4LjQtMjIuNSwzOC41LTMwYzEzLjgtMy43LDMxLTMuMSwzMS0zLjFzNy4xLDU5LjQsMTUuNyw5NC4yYzcuMiwyOS4yLDI0LjgsNzcuNywyNC44LDc3LjcKCQkJCVMxNDIuNSwzNTkuOSwxMjUuNiwzNTMuOXogTTQyNS45LDQ2MS41YzAsMC02LjEsMTQuNS0xOS42LDE1LjRjLTUuOCwwLjQtMTAuMy0xLjItMTAuMy0xLjJzLTAuMy0wLjEtNS4zLTIuMWwtMTEyLjktNTUKCQkJCWMwLDAtMTAuOS01LjctMTIuOC0xNS42Yy0yLjItOC4xLDIuNy0xOC4xLDIuNy0xOC4xTDMyMiwyNzNjMCwwLDQuOC05LjcsMTIuMi0xM2MwLjYtMC4zLDIuMy0xLDQuNS0xLjVjOC4xLTIuMSwxOCwyLjgsMTgsMi44CgkJCQlsMTEwLjcsNTMuN2MwLDAsMTIuNiw1LjcsMTUuMywxNi4yYzEuOSw3LjQtMC41LDE0LTEuOCwxNy4yQzQ3NC42LDM2My44LDQyNS45LDQ2MS41LDQyNS45LDQ2MS41eiIvPgoJCQk8cGF0aCBzdHlsZT0iZmlsbDojNjA5OTI2IiBkPSJNMzI2LjgsMzgwLjFjLTguMiwwLjEtMTUuNCw1LjgtMTcuMywxMy44Yy0xLjksOCwyLDE2LjMsOS4xLDIwYzcuNyw0LDE3LjUsMS44LDIyLjctNS40CgkJCQljNS4xLTcuMSw0LjMtMTYuOS0xLjgtMjMuMWwyNC00OS4xYzEuNSwwLjEsMy43LDAuMiw2LjItMC41YzQuMS0wLjksNy4xLTMuNiw3LjEtMy42YzQuMiwxLjgsOC42LDMuOCwxMy4yLDYuMQoJCQkJYzQuOCwyLjQsOS4zLDQuOSwxMy40LDcuM2MwLjksMC41LDEuOCwxLjEsMi44LDEuOWMxLjYsMS4zLDMuNCwzLjEsNC43LDUuNWMxLjksNS41LTEuOSwxNC45LTEuOSwxNC45CgkJCQljLTIuMyw3LjYtMTguNCw0MC42LTE4LjQsNDAuNmMtOC4xLTAuMi0xNS4zLDUtMTcuNywxMi41Yy0yLjYsOC4xLDEuMSwxNy4zLDguOSwyMS4zYzcuOCw0LDE3LjQsMS43LDIyLjUtNS4zCgkJCQljNS02LjgsNC42LTE2LjMtMS4xLTIyLjZjMS45LTMuNywzLjctNy40LDUuNi0xMS4zYzUtMTAuNCwxMy41LTMwLjQsMTMuNS0zMC40YzAuOS0xLjcsNS43LTEwLjMsMi43LTIxLjMKCQkJCWMtMi41LTExLjQtMTIuNi0xNi43LTEyLjYtMTYuN2MtMTIuMi03LjktMjkuMi0xNS4yLTI5LjItMTUuMnMwLTQuMS0xLjEtNy4xYy0xLjEtMy4xLTIuOC01LjEtMy45LTYuM2M0LjctOS43LDkuNC0xOS4zLDE0LjEtMjkKCQkJCWMtNC4xLTItOC4xLTQtMTIuMi02LjFjLTQuOCw5LjgtOS43LDE5LjctMTQuNSwyOS41Yy02LjctMC4xLTEyLjksMy41LTE2LjEsOS40Yy0zLjQsNi4zLTIuNywxNC4xLDEuOSwxOS44CgkJCQlDMzQzLjIsMzQ2LjUsMzM1LDM2My4zLDMyNi44LDM4MC4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K"}')}}]);