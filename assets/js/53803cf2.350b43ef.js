"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["6599"],{92262:function(e,n,i){i.r(n),i.d(n,{default:()=>a,frontMatter:()=>l,metadata:()=>t,assets:()=>c,toc:()=>h,contentTitle:()=>o});var t=JSON.parse('{"id":"administration/configuration/forges/github","title":"GitHub","description":"Woodpecker comes with built-in support for GitHub and GitHub Enterprise.","source":"@site/docs/30-administration/10-configuration/12-forges/20-github.md","sourceDirName":"30-administration/10-configuration/12-forges","slug":"/administration/configuration/forges/github","permalink":"/docs/next/administration/configuration/forges/github","draft":false,"unlisted":false,"editUrl":"https://github.com/woodpecker-ci/woodpecker/edit/main/docs/docs/30-administration/10-configuration/12-forges/20-github.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"toc_max_heading_level":2},"sidebar":"tutorialSidebar","previous":{"title":"Forges","permalink":"/docs/next/administration/configuration/forges/overview"},"next":{"title":"Gitea","permalink":"/docs/next/administration/configuration/forges/gitea"}}'),r=i("96773"),s=i("16070");let l={toc_max_heading_level:2},o="GitHub",c={},h=[{value:"App Settings",id:"app-settings",level:2},{value:"Client Secret Creation",id:"client-secret-creation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"GITHUB",id:"github-1",level:3},{value:"GITHUB_URL",id:"github_url",level:3},{value:"GITHUB_CLIENT",id:"github_client",level:3},{value:"GITHUB_CLIENT_FILE",id:"github_client_file",level:3},{value:"GITHUB_SECRET",id:"github_secret",level:3},{value:"GITHUB_SECRET_FILE",id:"github_secret_file",level:3},{value:"GITHUB_MERGE_REF",id:"github_merge_ref",level:3},{value:"GITHUB_SKIP_VERIFY",id:"github_skip_verify",level:3},{value:"GITHUB_PUBLIC_ONLY",id:"github_public_only",level:3}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"github",children:"GitHub"})}),"\n",(0,r.jsx)(n.p,{children:"Woodpecker comes with built-in support for GitHub and GitHub Enterprise.\nTo use Woodpecker with GitHub the following environment variables should be set for the server component:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"WOODPECKER_GITHUB=true\nWOODPECKER_GITHUB_CLIENT=YOUR_GITHUB_CLIENT_ID\nWOODPECKER_GITHUB_SECRET=YOUR_GITHUB_CLIENT_SECRET\n"})}),"\n",(0,r.jsx)(n.p,{children:"You will get these values from GitHub when you register your OAuth application.\nTo do so, go to Settings -> Developer Settings -> GitHub Apps -> New Oauth2 App."}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:'Do not use a "GitHub App" instead of an Oauth2 app as the former will not work correctly with Woodpecker right now (because user access tokens are not being refreshed automatically)'})}),"\n",(0,r.jsx)(n.h2,{id:"app-settings",children:"App Settings"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Name: An arbitrary name for your App"}),"\n",(0,r.jsx)(n.li,{children:"Homepage URL: The URL of your Woodpecker instance"}),"\n",(0,r.jsxs)(n.li,{children:["Callback URL: ",(0,r.jsx)(n.code,{children:"https://<your-woodpecker-instance>/authorize"})]}),"\n",(0,r.jsxs)(n.li,{children:["(optional) Upload the Woodpecker Logo: ",(0,r.jsx)(n.a,{href:"https://avatars.githubusercontent.com/u/84780935?s=200&v=4",children:"https://avatars.githubusercontent.com/u/84780935?s=200&v=4"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"client-secret-creation",children:"Client Secret Creation"}),"\n",(0,r.jsxs)(n.p,{children:["After your App has been created, you can generate a client secret.\nUse this one for the ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_SECRET"})," environment variable."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"This is a full list of configuration options. Please note that many of these options use default configuration values that should work for the majority of installations."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github-1",children:"GITHUB"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default: ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Enables the GitHub driver."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_url",children:"GITHUB_URL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_URL"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default: ",(0,r.jsx)(n.code,{children:"https://github.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Configures the GitHub server address."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_client",children:"GITHUB_CLIENT"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_CLIENT"})]}),"\n",(0,r.jsx)(n.li,{children:"Default: none"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Configures the GitHub OAuth client id to authorize access."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_client_file",children:"GITHUB_CLIENT_FILE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_CLIENT_FILE"})]}),"\n",(0,r.jsx)(n.li,{children:"Default: none"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Read the value for ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_CLIENT"})," from the specified filepath."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_secret",children:"GITHUB_SECRET"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_SECRET"})]}),"\n",(0,r.jsx)(n.li,{children:"Default: none"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Configures the GitHub OAuth client secret. This is used to authorize access."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_secret_file",children:"GITHUB_SECRET_FILE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_SECRET_FILE"})]}),"\n",(0,r.jsx)(n.li,{children:"Default: none"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Read the value for ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_SECRET"})," from the specified filepath."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_merge_ref",children:"GITHUB_MERGE_REF"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_MERGE_REF"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default: ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_skip_verify",children:"GITHUB_SKIP_VERIFY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_SKIP_VERIFY"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default: ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Configure if SSL verification should be skipped."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"github_public_only",children:"GITHUB_PUBLIC_ONLY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"WOODPECKER_GITHUB_PUBLIC_ONLY"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default: ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Configures the GitHub OAuth client to only obtain a token that can manage public repositories."})]})}function a(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},16070:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return l}});var t=i(41699);let r={},s=t.createContext(r);function l(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);