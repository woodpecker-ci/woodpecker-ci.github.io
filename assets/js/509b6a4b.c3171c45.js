"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["8241"],{70184:function(e,t,n){n.r(t),n.d(t,{default:()=>u,frontMatter:()=>c,metadata:()=>i,assets:()=>d,toc:()=>l,contentTitle:()=>s});var i=JSON.parse('{"id":"administration/forges/bitbucket","title":"Bitbucket","description":"Woodpecker comes with built-in support for Bitbucket Cloud. To enable Bitbucket Cloud you should configure the Woodpecker container using the following environment variables:","source":"@site/versioned_docs/version-1.0/30-administration/11-forges/50-bitbucket.md","sourceDirName":"30-administration/11-forges","slug":"/administration/forges/bitbucket","permalink":"/docs/1.0/administration/forges/bitbucket","draft":false,"unlisted":false,"editUrl":"https://github.com/woodpecker-ci/woodpecker/edit/main/docs/versioned_docs/version-1.0/30-administration/11-forges/50-bitbucket.md","tags":[],"version":"1.0","sidebarPosition":50,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GitLab","permalink":"/docs/1.0/administration/forges/gitlab"},"next":{"title":"Agent configuration","permalink":"/docs/1.0/administration/agent-config"}}'),o=n("96773"),r=n("80715");let c={},s="Bitbucket",d={},l=[{value:"Registration",id:"registration",level:2},{value:"Configuration",id:"configuration",level:2},{value:"<code>WOODPECKER_BITBUCKET</code>",id:"woodpecker_bitbucket",level:3},{value:"<code>WOODPECKER_BITBUCKET_CLIENT</code>",id:"woodpecker_bitbucket_client",level:3},{value:"<code>WOODPECKER_BITBUCKET_CLIENT_FILE</code>",id:"woodpecker_bitbucket_client_file",level:3},{value:"<code>WOODPECKER_BITBUCKET_SECRET</code>",id:"woodpecker_bitbucket_secret",level:3},{value:"<code>WOODPECKER_BITBUCKET_SECRET_FILE</code>",id:"woodpecker_bitbucket_secret_file",level:3},{value:"Missing Features",id:"missing-features",level:2}];function a(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"bitbucket",children:"Bitbucket"})}),"\n",(0,o.jsx)(t.p,{children:"Woodpecker comes with built-in support for Bitbucket Cloud. To enable Bitbucket Cloud you should configure the Woodpecker container using the following environment variables:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-diff",children:"# docker-compose.yml\nversion: '3'\n\nservices:\n  woodpecker-server:\n    [...]\n    environment:\n      - [...]\n+     - WOODPECKER_BITBUCKET=true\n+     - WOODPECKER_BITBUCKET_CLIENT=95c0282573633eb25e82\n+     - WOODPECKER_BITBUCKET_SECRET=30f5064039e6b359e075\n\n  woodpecker-agent:\n    [...]\n"})}),"\n",(0,o.jsx)(t.h2,{id:"registration",children:"Registration"}),"\n",(0,o.jsx)(t.p,{children:"You must register your application with Bitbucket in order to generate a client and secret. Navigate to your account settings and choose OAuth from the menu, and click Add Consumer."}),"\n",(0,o.jsx)(t.p,{children:"Please use the Authorization callback URL:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-nohighlight",children:"http://woodpecker.mycompany.com/authorize\n"})}),"\n",(0,o.jsx)(t.p,{children:"Please also be sure to check the following permissions:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-nohighlight",children:"Account:Email\nAccount:Read\nTeam Membership:Read\nRepositories:Read\nWebhooks:Read and Write\n"})}),"\n",(0,o.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(t.p,{children:"This is a full list of configuration options. Please note that many of these options use default configuration values that should work for the majority of installations."}),"\n",(0,o.jsx)(t.h3,{id:"woodpecker_bitbucket",children:(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["Default: ",(0,o.jsx)(t.code,{children:"false"})]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Enables the Bitbucket driver."}),"\n",(0,o.jsx)(t.h3,{id:"woodpecker_bitbucket_client",children:(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_CLIENT"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Default: empty"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Configures the Bitbucket OAuth client id. This is used to authorize access."}),"\n",(0,o.jsx)(t.h3,{id:"woodpecker_bitbucket_client_file",children:(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_CLIENT_FILE"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Default: empty"}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Read the value for ",(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_CLIENT"})," from the specified filepath"]}),"\n",(0,o.jsx)(t.h3,{id:"woodpecker_bitbucket_secret",children:(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_SECRET"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Default: empty"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Configures the Bitbucket OAuth client secret. This is used to authorize access."}),"\n",(0,o.jsx)(t.h3,{id:"woodpecker_bitbucket_secret_file",children:(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_SECRET_FILE"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Default: empty"}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Read the value for ",(0,o.jsx)(t.code,{children:"WOODPECKER_BITBUCKET_SECRET"})," from the specified filepath"]}),"\n",(0,o.jsx)(t.h2,{id:"missing-features",children:"Missing Features"}),"\n",(0,o.jsxs)(t.p,{children:["Merge requests are not currently supported. We are interested in patches to include this functionality.\nIf you are interested in contributing to Woodpecker and submitting a patch please ",(0,o.jsx)(t.strong,{children:"contact us"})," via ",(0,o.jsx)(t.a,{href:"https://discord.gg/fcMQqSMXJy",children:"Discord"})," or ",(0,o.jsx)(t.a,{href:"https://matrix.to/#/#WoodpeckerCI-Develop:obermui.de",children:"Matrix"}),"."]})]})}function u(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},80715:function(e,t,n){n.d(t,{Z:function(){return s},a:function(){return c}});var i=n(41699);let o={},r=i.createContext(o);function c(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);