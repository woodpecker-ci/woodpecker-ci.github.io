"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([["9453"],{68854(e,o,n){n.r(o),n.d(o,{metadata:()=>t,default:()=>p,frontMatter:()=>c,contentTitle:()=>d,toc:()=>s,assets:()=>a});var t=JSON.parse('{"id":"development/packaging","title":"Packaging","description":"If you repackage it, we encourage to build from source, which requires internet connection.","source":"@site/versioned_docs/version-3.13/92-development/10-packaging.md","sourceDirName":"92-development","slug":"/development/packaging","permalink":"/docs/development/packaging","draft":false,"unlisted":false,"editUrl":"https://github.com/woodpecker-ci/woodpecker/edit/main/docs/versioned_docs/version-3.13/92-development/10-packaging.md","tags":[],"version":"3.13","sidebarPosition":10,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Testing","permalink":"/docs/development/testing"},"next":{"title":"Addons","permalink":"/docs/development/addons"}}'),r=n(62615),i=n(35756);let c={},d="Packaging",a={},s=[{value:"Distribute web UI in own directory",id:"distribute-web-ui-in-own-directory",level:2}];function l(e){let o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"packaging",children:"Packaging"})}),"\n",(0,r.jsx)(o.p,{children:"If you repackage it, we encourage to build from source, which requires internet connection."}),"\n",(0,r.jsxs)(o.p,{children:["For offline builds, we also offer a tarball with all vendored dependencies and a pre-built web UI\non the ",(0,r.jsx)(o.a,{href:"https://github.com/woodpecker-ci/woodpecker/releases",children:"release page"}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"distribute-web-ui-in-own-directory",children:"Distribute web UI in own directory"}),"\n",(0,r.jsx)(o.p,{children:"If you do not want to embed the web UI in the binary, you can compile a custom root path for the web UI into the binary."}),"\n",(0,r.jsxs)(o.p,{children:["Add ",(0,r.jsx)(o.code,{children:"external_web"})," to the tags and use the build flag ",(0,r.jsx)(o.code,{children:"-X go.woodpecker-ci.org/woodpecker/v3/web.webUIRoot=/some/path"})," to set a custom path."]}),"\n",(0,r.jsx)(o.p,{children:"Example: "}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-sh",children:"go build -tags 'external_web' -ldflags '-s -w -extldflags \"-static\" -X go.woodpecker-ci.org/woodpecker/v3/version.Version=3.12.0 -X go.woodpecker-ci.org/woodpecker/v3/web.webUIRoot=/nix/store/maaajlp8h5gy9zyjgfhaipzj07qnnmrl-woodpecker-WebUI-3.12.0' -o dist/woodpecker-server go.woodpecker-ci.org/woodpecker/v3/cmd/server\n"})})]})}function p(e={}){let{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},35756(e,o,n){n.d(o,{R:()=>c,x:()=>d});var t=n(59471);let r={},i=t.createContext(r);function c(e){let o=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);